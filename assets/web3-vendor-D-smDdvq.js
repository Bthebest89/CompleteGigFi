import{r as e,g as t}from"./react-vendor-oRnAdrvc.js";var n={exports:{}},r={},s=e,a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},o=null,l=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,r)&&!u.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:o,ref:l,props:s,_owner:c.current}}r.Fragment=o,r.jsx=l,r.jsxs=l,n.exports=r;var d=n.exports,f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},h="undefined"==typeof window||"Deno"in globalThis;function p(){}function m(e,t){return"function"==typeof e?e(t):e}function y(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:i}=e;if(o)if(r){if(t.queryHash!==g(o,t.options))return!1}else if(!v(t.queryKey,o))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof i||t.isStale()===i)&&((!s||s===t.state.fetchStatus)&&!(a&&!a(t)))}function b(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(w(t.options.mutationKey)!==w(a))return!1}else if(!v(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function g(e,t){return(t?.queryKeyHashFn||w)(e)}function w(e){return JSON.stringify(e,((e,t)=>E(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function v(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!v(e[n],t[n]))))}function x(e,t){if(e===t)return e;const n=P(e)&&P(t);if(n||E(e)&&E(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,i=n?[]:{};let c=0;for(let u=0;u<o;u++){const s=n?u:a[u];(!n&&r.includes(s)||n)&&void 0===e[s]&&void 0===t[s]?(i[s]=void 0,c++):(i[s]=x(e[s],t[s]),i[s]===e[s]&&void 0!==e[s]&&c++)}return s===o&&c===s?e:i}return t}function P(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function E(e){if(!k(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!k(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function B(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?x(e,t):t}function $(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function I(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var A=Symbol();function O(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==A?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var N=new class extends f{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!h&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"==typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},S=new class extends f{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!h&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function T(e){return Math.min(1e3*2**e,3e4)}function C(e){return"online"!==(e??"online")||S.isOnline()}var F=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function z(e){return e instanceof F}function M(e){let t,n=!1,r=0,s=!1;const a=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),o=()=>N.isFocused()&&("always"===e.networkMode||S.isOnline())&&e.canRun(),i=()=>C(e.networkMode)&&e.canRun(),c=n=>{s||(s=!0,e.onSuccess?.(n),t?.(),a.resolve(n))},u=n=>{s||(s=!0,e.onError?.(n),t?.(),a.reject(n))},l=()=>new Promise((n=>{t=e=>{(s||o())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,s||e.onContinue?.()})),d=()=>{if(s)return;let t;const a=0===r?e.initialPromise:void 0;try{t=a??e.fn()}catch(i){t=Promise.reject(i)}Promise.resolve(t).then(c).catch((t=>{if(s)return;const a=e.retry??(h?0:3),i=e.retryDelay??T,c="function"==typeof i?i(r,t):i,f=!0===a||"number"==typeof a&&r<a||"function"==typeof a&&a(r,t);var p;!n&&f?(r++,e.onFail?.(r,t),(p=c,new Promise((e=>{setTimeout(e,p)}))).then((()=>o()?void 0:l())).then((()=>{n?u(t):d()}))):u(t)}))};return{promise:a,cancel:t=>{s||(u(new F(t)),e.abort?.())},continue:()=>(t?.(),a),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:i,start:()=>(i()?d():l().then(d),a)}}var R=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=e=>setTimeout(e,0);const a=r=>{t?e.push(r):s((()=>{n(r)}))};return{batch:a=>{let o;t++;try{o=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return o},batchCalls:e=>(...t)=>{a((()=>{e(...t)}))},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),j=class{#s;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#s=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(h?1/0:3e5))}clearGcTimeout(){this.#s&&(clearTimeout(this.#s),this.#s=void 0)}},q=class extends j{#a;#o;#i;#c;#u;#l;#d;constructor(e){super(),this.#d=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#c=e.client,this.#i=this.#c.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#a=function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#a,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#u?.promise}setOptions(e){this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#i.remove(this)}setData(e,t){const n=B(this.state.data,e,this.options);return this.#f({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#f({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#u?.promise;return this.#u?.cancel(e),t?t.then(p).catch(p):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#a)}isActive(){return this.observers.some((e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n}))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#u&&(this.#d?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#i.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#u)return this.#u.continueRetry(),this.#u.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#d=!0,n.signal)})},s={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#c,state:this.state,fetchFn:()=>{const e=O(this.options,t),n={client:this.#c,queryKey:this.queryKey,meta:this.meta};return r(n),this.#d=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(s),this.options.behavior?.onFetch(s,this),this.#o=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===s.fetchOptions?.meta||this.#f({type:"fetch",meta:s.fetchOptions?.meta});const a=e=>{z(e)&&e.silent||this.#f({type:"error",error:e}),z(e)||(this.#i.config.onError?.(e,this),this.#i.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#u=M({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void a(t)}this.#i.config.onSuccess?.(e,this),this.#i.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else a(new Error(`${this.queryHash} data is undefined`))},onError:a,onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#u.start()}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(n=t.data,r=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C(r.networkMode)?"fetching":"paused",...void 0===n&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return z(s)&&s.revert&&this.#o?{...this.#o,fetchStatus:"idle"}:{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var n,r})(this.state),R.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#i.notify({query:this,type:"updated",action:e})}))}};var L=class extends f{constructor(e={}){super(),this.config=e,this.#h=new Map}#h;build(e,t,n){const r=t.queryKey,s=t.queryHash??g(r,t);let a=this.get(s);return a||(a=new q({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#h.has(e.queryHash)||(this.#h.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#h.get(e.queryHash);t&&(e.destroy(),t===e&&this.#h.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){R.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#h.get(e)}getAll(){return[...this.#h.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>y(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>y(e,t))):t}notify(e){R.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){R.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){R.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},U=class extends j{#p;#m;#u;constructor(e){super(),this.mutationId=e.mutationId,this.#m=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#m.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter((t=>t!==e)),this.scheduleGc(),this.#m.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#m.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){this.#u=M({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#m.canRun(this)});const t="pending"===this.state.status,n=!this.#u.canStart();try{if(!t){this.#f({type:"pending",variables:e,isPaused:n}),await(this.#m.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#f({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#u.start();return await(this.#m.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#m.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#f({type:"success",data:r}),r}catch(r){try{throw await(this.#m.config.onError?.(r,e,this.state.context,this)),await(this.options.onError?.(r,e,this.state.context)),await(this.#m.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,r,e,this.state.context)),r}finally{this.#f({type:"error",error:r})}}finally{this.#m.runNext(this)}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),R.batch((()=>{this.#p.forEach((t=>{t.onMutationUpdate(e)})),this.#m.notify({mutation:this,type:"updated",action:e})}))}};var G=class extends f{constructor(e={}){super(),this.config=e,this.#y=new Set,this.#b=new Map,this.#g=0}#y;#b;#g;build(e,t,n){const r=new U({mutationCache:this,mutationId:++this.#g,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#y.add(e);const t=D(e);if("string"==typeof t){const n=this.#b.get(t);n?n.push(e):this.#b.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#y.delete(e)){const t=D(e);if("string"==typeof t){const n=this.#b.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#b.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=D(e);if("string"==typeof t){const n=this.#b.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=D(e);if("string"==typeof t){const n=this.#b.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){R.batch((()=>{this.#y.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#y.clear(),this.#b.clear()}))}getAll(){return Array.from(this.#y)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>b(t,e)))}findAll(e={}){return this.getAll().filter((t=>b(e,t)))}notify(e){R.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return R.batch((()=>Promise.all(e.map((e=>e.continue().catch(p))))))}};function D(e){return e.options.scope?.id}function _(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let i={pages:[],pageParams:[]},c=0;const u=async()=>{let n=!1;const u=O(t.options,t.fetchOptions),l=async(e,r,s)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const a={client:t.client,queryKey:t.queryKey,pageParam:r,direction:s?"backward":"forward",meta:t.options.meta};var o;o=a,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const i=await u(a),{maxPages:c}=t.options,l=s?I:$;return{pages:l(e.pages,i,c),pageParams:l(e.pageParams,r,c)}};if(s&&a.length){const e="backward"===s,t={pages:a,pageParams:o},n=(e?V:H)(r,t);i=await l(t,n,e)}else{const t=e??a.length;do{const e=0===c?o[0]??r.initialPageParam:H(r,i);if(c>0&&null==e)break;i=await l(i,e),c++}while(c<t)}return i};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function H(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function V(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Z=class{#w;#m;#l;#v;#x;#P;#E;#k;constructor(e={}){this.#w=e.queryCache||new L,this.#m=e.mutationCache||new G,this.#l=e.defaultOptions||{},this.#v=new Map,this.#x=new Map,this.#P=0}mount(){this.#P++,1===this.#P&&(this.#E=N.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#w.onFocus())})),this.#k=S.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#w.onOnline())})))}unmount(){this.#P--,0===this.#P&&(this.#E?.(),this.#E=void 0,this.#k?.(),this.#k=void 0)}isFetching(e){return this.#w.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#m.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#w.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(m(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#w.findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#w.get(r.queryHash),a=s?.state.data,o=function(e,t){return"function"==typeof e?e(t):e}(t,a);if(void 0!==o)return this.#w.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return R.batch((()=>this.#w.findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state}removeQueries(e){const t=this.#w;R.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#w;return R.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const n={revert:!0,...t},r=R.batch((()=>this.#w.findAll(e).map((e=>e.cancel(n)))));return Promise.all(r).then(p).catch(p)}invalidateQueries(e,t={}){return R.batch((()=>(this.#w.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=R.batch((()=>this.#w.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(p)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(p)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#w.build(this,t);return n.isStaleByTime(m(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(p).catch(p)}fetchInfiniteQuery(e){return e.behavior=_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(p).catch(p)}ensureInfiniteQueryData(e){return e.behavior=_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return S.isOnline()?this.#m.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#w}getMutationCache(){return this.#m}getDefaultOptions(){return this.#l}setDefaultOptions(e){this.#l=e}setQueryDefaults(e,t){this.#v.set(w(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#v.values()],n={};return t.forEach((t=>{v(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#x.set(w(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#x.values()],n={};return t.forEach((t=>{v(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#l.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=g(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===A&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#l.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#w.clear(),this.#m.clear()}},K=e.createContext(void 0),W=({client:t,children:n})=>(e.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),d.jsx(K.Provider,{value:t,children:n}));const Q={},Y=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in Q)return;Q[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,n&&s.setAttribute("nonce",n),document.head.appendChild(s),t?new Promise(((t,n)=>{s.addEventListener("load",t),s.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)}))};var J={exports:{}},X={},ee={exports:{}},te={},ne=e;var re="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},se=ne.useState,ae=ne.useEffect,oe=ne.useLayoutEffect,ie=ne.useDebugValue;function ce(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!re(e,n)}catch(r){return!0}}var ue="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=se({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return oe((function(){s.value=n,s.getSnapshot=t,ce(s)&&a({inst:s})}),[e,n,t]),ae((function(){return ce(s)&&a({inst:s}),e((function(){ce(s)&&a({inst:s})}))}),[e]),ie(n),n};te.useSyncExternalStore=void 0!==ne.useSyncExternalStore?ne.useSyncExternalStore:ue,ee.exports=te;var le=ee.exports,de=e,fe=le;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var he="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},pe=fe.useSyncExternalStore,me=de.useRef,ye=de.useEffect,be=de.useMemo,ge=de.useDebugValue;X.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=me(null);if(null===a.current){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=be((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==s&&o.hasValue){var t=o.value;if(s(t,e))return i=t}return i=e}if(t=i,he(a,e))return t;var n=r(e);return void 0!==s&&s(t,n)?(a=e,t):(a=e,i=n)}var a,i,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,s]);var i=pe(e,a[0],a[1]);return ye((function(){o.hasValue=!0,o.value=i}),[i]),ge(i),i},J.exports=X;const we=t(J.exports);let ve=class e extends Error{constructor(t,n={}){const r=n.cause instanceof e?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof e&&n.cause.docsPath||n.docsPath;super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.0.8"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function xe(e,t){const n=e.exec(t);return n?.groups}const Pe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ee=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ke=/^\(.+?\).*?$/,Be=/^tuple(?<array>(\[(\d*)\])*)$/;function $e(e){let t=e.type;if(Be.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){t+=$e(e.components[s]),s<n-1&&(t+=", ")}const r=xe(Be,e.type);return t+=`)${r?.array??""}`,$e({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ie(e){let t="";const n=e.length;for(let r=0;r<n;r++){t+=$e(e[r]),r!==n-1&&(t+=", ")}return t}function Ae(e){return"function"===e.type?`function ${e.name}(${Ie(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Ie(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${Ie(e.inputs)})`:"error"===e.type?`error ${e.name}(${Ie(e.inputs)})`:"constructor"===e.type?`constructor(${Ie(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback() external"+("payable"===e.stateMutability?" payable":""):"receive() external payable"}const Oe=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const Ne=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const Se=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;const Te=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ce(e){return Te.test(e)}function Fe(e){return xe(Te,e)}const ze=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;const Me=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;const Re=/^receive\(\) external payable$/;const je=new Set(["indexed"]),qe=new Set(["calldata","memory","storage"]);class Le extends ve{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Ue extends ve{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Ge extends ve{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class De extends ve{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class _e extends ve{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class He extends ve{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Ve extends ve{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ze extends ve{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ke extends ve{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class We extends ve{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Qe extends ve{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ye extends ve{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Je extends ve{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const Xe=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function et(e,t={}){if(function(e){return Se.test(e)}(e))return function(e,t={}){const n=function(e){return xe(Se,e)}(e);if(!n)throw new Ke({signature:e,type:"function"});const r=at(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(st(r[i],{modifiers:qe,structs:t,type:"function"}));const o=[];if(n.returns){const e=at(n.returns),r=e.length;for(let n=0;n<r;n++)o.push(st(e[n],{modifiers:qe,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}(e,t);if(function(e){return Ne.test(e)}(e))return function(e,t={}){const n=function(e){return xe(Ne,e)}(e);if(!n)throw new Ke({signature:e,type:"event"});const r=at(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(st(r[o],{modifiers:je,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}(e,t);if(function(e){return Oe.test(e)}(e))return function(e,t={}){const n=function(e){return xe(Oe,e)}(e);if(!n)throw new Ke({signature:e,type:"error"});const r=at(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(st(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}(e,t);if(function(e){return ze.test(e)}(e))return function(e,t={}){const n=function(e){return xe(ze,e)}(e);if(!n)throw new Ke({signature:e,type:"constructor"});const r=at(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(st(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}(e,t);if(function(e){return Me.test(e)}(e))return function(e){const t=function(e){return xe(Me,e)}(e);if(!t)throw new Ke({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if(function(e){return Re.test(e)}(e))return{type:"receive",stateMutability:"payable"};throw new We({signature:e})}const tt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,nt=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rt=/^u?int$/;function st(e,t){const n=function(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let e="";for(const t of s[1])e+=`[${t.type}${t.name?`:${t.name}`:""}]`;r+=`(${s[0]}{${e}})`}return t?`${t}:${e}${r}`:e}(e,t?.type,t?.structs);if(Xe.has(n))return Xe.get(n);const r=ke.test(e),s=xe(r?nt:tt,e);if(!s)throw new De({param:e});if(s.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||Pe.test(e)||Ee.test(e)||it.test(e)}(s.name))throw new _e({param:e,name:s.name});const a=s.name?{name:s.name}:{},o="indexed"===s.modifier?{indexed:!0}:{},i=t?.structs??{};let c,u={};if(r){c="tuple";const e=at(s.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(st(e[r],{structs:i}));u={components:t}}else if(s.type in i)c="tuple",u={components:i[s.type]};else if(rt.test(s.type))c=`${s.type}256`;else if(c=s.type,"struct"!==t?.type&&!ot(c))throw new Ge({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new He({param:e,type:t?.type,modifier:s.modifier});if(qe.has(s.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!s.array))throw new Ve({param:e,type:t?.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...a,...o,...u};return Xe.set(n,l),l}function at(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const s=e[a],o=e.slice(a+1);switch(s){case",":return 0===r?at(o,[...t,n.trim()]):at(o,t,`${n}${s}`,r);case"(":return at(o,t,`${n}${s}`,r+1);case")":return at(o,t,`${n}${s}`,r-1);default:return at(o,t,`${n}${s}`,r)}}if(""===n)return t;if(0!==r)throw new Je({current:n,depth:r});return t.push(n.trim()),t}function ot(e){return"address"===e||"bool"===e||"function"===e||"string"===e||Pe.test(e)||Ee.test(e)}const it=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function ct(e){const t={},n=e.length;for(let o=0;o<n;o++){const n=e[o];if(!Ce(n))continue;const r=Fe(n);if(!r)throw new Ke({signature:n,type:"struct"});const s=r.properties.split(";"),a=[],i=s.length;for(let e=0;e<i;e++){const t=s[e].trim();if(!t)continue;const n=st(t,{type:"struct"});a.push(n)}if(!a.length)throw new Qe({signature:n});t[r.name]=a}const r={},s=Object.entries(t),a=s.length;for(let o=0;o<a;o++){const[e,n]=s[o];r[e]=lt(n,t)}return r}const ut=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function lt(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const s=e[a];if(ke.test(s.type))r.push(s);else{const e=xe(ut,s.type);if(!e?.type)throw new Ze({abiParameter:s});const{array:a,type:o}=e;if(o in t){if(n.has(o))throw new Ye({type:o});r.push({...s,type:`tuple${a??""}`,components:lt(t[o]??[],t,new Set([...n,o]))})}else{if(!ot(o))throw new Ue({type:o});r.push(s)}}}return r}function dt(e){const t=ct(e),n=[],r=e.length;for(let s=0;s<r;s++){const r=e[s];Ce(r)||n.push(et(r,t))}return n}function ft(e){let t;if("string"==typeof e)t=et(e);else{const n=ct(e),r=e.length;for(let s=0;s<r;s++){const r=e[s];if(!Ce(r)){t=et(r,n);break}}}if(!t)throw new Le({signature:e});return t}function ht(e,t,n){const r=e[t.name];if("function"==typeof r)return r;const s=e[n];return"function"==typeof s?s:n=>t(e,n)}function pt(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new Dt(e.type);return`${e.name}(${mt(e.inputs,{includeName:t})})`}function mt(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${mt(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}function yt(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function bt(e){return yt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const gt="2.23.11";let wt=({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,vt=`viem@${gt}`,xt=class e extends Error{constructor(t,n={}){const r=n.cause instanceof e?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof e&&n.cause.docsPath||n.docsPath,a=wt?.({...n,docsPath:s});super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...vt?[`Version: ${vt}`]:[]].join("\n"),n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=gt}walk(e){return Pt(this,e)}};function Pt(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?Pt(e.cause,t):t?null:e}class Et extends xt{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class kt extends xt{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Bt extends xt{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${mt(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class $t extends xt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class It extends xt{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class At extends xt{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${bt(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Ot extends xt{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class Nt extends xt{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class St extends xt{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Tt extends xt{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class Ct extends xt{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t,name:"AbiEventNotFoundError"})}}class Ft extends xt{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class zt extends xt{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class Mt extends xt{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${pt(e.abiItem)}\`, and`,`\`${t.type}\` in \`${pt(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Rt=class extends xt{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}};class jt extends xt{constructor({abiItem:e,data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${mt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=r}}class qt extends xt{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${pt(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Lt extends xt{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class Ut extends xt{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}let Gt=class extends xt{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}};class Dt extends xt{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}class _t extends xt{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Ht=class extends xt{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},Vt=class extends xt{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}};class Zt extends xt{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function Kt(e,{dir:t,size:n=32}={}){return"string"==typeof e?Wt(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new Vt({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a="right"===t;r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}(e,{dir:t,size:n})}function Wt(e,{dir:t,size:n=32}={}){if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new Vt({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}let Qt=class extends xt{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number "${s}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}};class Yt extends xt{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Jt extends xt{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Xt=class extends xt{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function en(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&"0"===n["left"===t?s:n.length-s-1].toString();s++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}function tn(e,{size:t}){if(bt(e)>t)throw new Xt({givenSize:bt(e),maxSize:t})}function nn(e,t={}){const{signed:n}=t;t.size&&tn(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function rn(e,t={}){return Number(nn(e,t))}const sn=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function an(e,t={}){return"number"==typeof e||"bigint"==typeof e?un(e,t):"string"==typeof e?dn(e,t):"boolean"==typeof e?on(e,t):cn(e,t)}function on(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(tn(n,{size:t.size}),Kt(n,{size:t.size})):n}function cn(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=sn[e[s]];const r=`0x${n}`;return"number"==typeof t.size?(tn(r,{size:t.size}),Kt(r,{dir:"right",size:t.size})):r}function un(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof a&&n?-a-1n:0;if(a&&s>a||s<o){const t="bigint"==typeof e?"n":"";throw new Qt({max:a?`${a}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const i=`0x${(n&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16)}`;return r?Kt(i,{size:r}):i}const ln=new TextEncoder;function dn(e,t={}){return cn(ln.encode(e),t)}const fn=new TextEncoder;function hn(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const n=un(e,t);return yn(n)}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);if(n[0]=Number(e),"number"==typeof t.size)return tn(n,{size:t.size}),Kt(n,{size:t.size});return n}(e,t):yt(e)?yn(e,t):bn(e,t)}const pn={zero:48,nine:57,A:65,F:70,a:97,f:102};function mn(e){return e>=pn.zero&&e<=pn.nine?e-pn.zero:e>=pn.A&&e<=pn.F?e-(pn.A-10):e>=pn.a&&e<=pn.f?e-(pn.a-10):void 0}function yn(e,t={}){let n=e;t.size&&(tn(n,{size:t.size}),n=Kt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let o=0,i=0;o<s;o++){const e=mn(r.charCodeAt(i++)),t=mn(r.charCodeAt(i++));if(void 0===e||void 0===t)throw new xt(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);a[o]=16*e+t}return a}function bn(e,t={}){const n=fn.encode(e);return"number"==typeof t.size?(tn(n,{size:t.size}),Kt(n,{dir:"right",size:t.size})):n}function gn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function wn(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function vn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xn(e,t){wn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Pn=BigInt(2**32-1),En=BigInt(32);function kn(e,t=!1){return t?{h:Number(e&Pn),l:Number(e>>En&Pn)}:{h:0|Number(e>>En&Pn),l:0|Number(e&Pn)}}function Bn(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=kn(e[s],t);[n[s],r[s]]=[a,o]}return[n,r]}const $n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function In(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function An(e,t){return e<<32-t|e>>>t}const On=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function Nn(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function Sn(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),wn(e),e}class Tn{clone(){return this._cloneInto()}}function Cn(e){const t=t=>e().update(Sn(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Fn(e=32){if($n&&"function"==typeof $n.getRandomValues)return $n.getRandomValues(new Uint8Array(e));if($n&&"function"==typeof $n.randomBytes)return $n.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const zn=[],Mn=[],Rn=[],jn=BigInt(0),qn=BigInt(1),Ln=BigInt(2),Un=BigInt(7),Gn=BigInt(256),Dn=BigInt(113);for(let xd=0,Pd=qn,Ed=1,kd=0;xd<24;xd++){[Ed,kd]=[kd,(2*Ed+3*kd)%5],zn.push(2*(5*kd+Ed)),Mn.push((xd+1)*(xd+2)/2%64);let e=jn;for(let t=0;t<7;t++)Pd=(Pd<<qn^(Pd>>Un)*Dn)%Gn,Pd&Ln&&(e^=qn<<(qn<<BigInt(t))-qn);Rn.push(e)}const[_n,Hn]=Bn(Rn,!0),Vn=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Zn=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class Kn extends Tn{constructor(e,t,n,r=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,gn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){On||Nn(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,s=(r+2)%10,a=n[s],o=n[s+1],i=Vn(a,o,1)^n[t],c=Zn(a,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=i,e[r+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=Mn[n],a=Vn(t,s,r),o=Zn(t,s,r),i=zn[n];t=e[i],s=e[i+1],e[i]=a,e[i+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=_n[r],e[1]^=Hn[r]}n.fill(0)}(this.state32,this.rounds),On||Nn(this.state32),this.posOut=0,this.pos=0}update(e){vn(this);const{blockLen:t,state:n}=this,r=(e=Sn(e)).length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){vn(this,!1),wn(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return gn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:a}=this;return e||(e=new Kn(t,n,r,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Wn=((e,t,n)=>Cn((()=>new Kn(t,e,n))))(1,136,32);function Qn(e,t){const n=t||"hex",r=Wn(yt(e,{strict:!1})?hn(e):e);return"bytes"===n?r:an(r)}function Yn(e){return Qn(hn(e))}const Jn=e=>function(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),"("===i&&r++,")"===i&&r--,t)if(0!==r)" "!==i?(s+=i,n+=i):","!==e[o-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===i&&["event","function",""].includes(s))s="";else if(s+=i,")"===i){a=!0;break}}if(!a)throw new xt("Unable to normalize signature.");return s}("string"==typeof e?e:Ae(e));function Xn(e){return Yn(Jn(e))}const er=Xn;let tr=class extends xt{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},nr=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}};const rr=new nr(8192);function sr(e,t){if(rr.has(`${e}.${t}`))return rr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Qn(bn(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(15&r[o>>1])>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const a=`0x${s.join("")}`;return rr.set(`${e}.${t}`,a),a}function ar(e,t){if(!cr(e,{strict:!1}))throw new tr({address:e});return sr(e,t)}const or=/^0x[a-fA-F0-9]{40}$/,ir=new nr(8192);function cr(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(ir.has(r))return ir.get(r);const s=!(!or.test(e)||e.toLowerCase()!==e&&n&&sr(e)!==e);return ir.set(r,s),s}function ur(e){return"string"==typeof e[0]?lr(e):function(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}(e)}function lr(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}function dr(e,t,n,{strict:r}={}){return yt(e,{strict:!1})?mr(e,t,n,{strict:r}):pr(e,t,n,{strict:r})}function fr(e,t){if("number"==typeof t&&t>0&&t>bt(e)-1)throw new Ht({offset:t,position:"start",size:bt(e)})}function hr(e,t,n){if("number"==typeof t&&"number"==typeof n&&bt(e)!==n-t)throw new Ht({offset:n,position:"end",size:bt(e)})}function pr(e,t,n,{strict:r}={}){fr(e,t);const s=e.slice(t,n);return r&&hr(s,t,n),s}function mr(e,t,n,{strict:r}={}){fr(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return r&&hr(s,t,n),s}const yr=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,br=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function gr(e,t){if(e.length!==t.length)throw new Ot({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(wr({param:e[r],value:t[r]}));return n}({params:e,values:t}),r=vr(n);return 0===r.length?"0x":r}function wr({param:e,value:t}){const n=xr(e.type);if(n){const[r,s]=n;return function(e,{length:t,param:n}){const r=null===t;if(!Array.isArray(e))throw new Gt(e);if(!r&&e.length!==t)throw new It({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const t=wr({param:n,value:e[o]});t.dynamic&&(s=!0),a.push(t)}if(r||s){const e=vr(a);if(r){const t=un(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ur([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:ur(a.map((({encoded:e})=>e)))}}(t,{length:r,param:{...e,type:s}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=wr({param:a,value:e[Array.isArray(e)?s:a.name]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?vr(r):ur(r.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!cr(e))throw new tr({address:e});return{dynamic:!1,encoded:Wt(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new xt(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Wt(on(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int"),[,,r="256"]=br.exec(e.type)??[];return function(e,{signed:t,size:n=256}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Qt({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:un(e,{size:32,signed:t})}}(t,{signed:n,size:Number(r)})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),r=bt(e);if(!n){let t=e;return r%32!=0&&(t=Wt(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:ur([Wt(un(r,{size:32})),t])}}if(r!==Number.parseInt(n))throw new At({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Wt(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=dn(e),n=Math.ceil(bt(t)/32),r=[];for(let s=0;s<n;s++)r.push(Wt(dr(t,32*s,32*(s+1)),{dir:"right"}));return{dynamic:!0,encoded:ur([Wt(un(bt(t),{size:32})),...r])}}(t);throw new Lt(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function vr(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:n,encoded:r}=e[a];t+=n?32:bt(r)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(un(t+s,{size:32})),r.push(i),s+=bt(i)):n.push(i)}return ur([...n,...r])}function xr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Pr=e=>dr(Xn(e),0,4);function Er(e){const{abi:t,args:n=[],name:r}=e,s=yt(r,{strict:!1}),a=t.filter((e=>s?"function"===e.type?Pr(e)===r:"event"===e.type&&er(e)===r:"name"in e&&e.name===r));if(0===a.length)return;if(1===a.length)return a[0];let o;for(const i of a){if(!("inputs"in i))continue;if(!n||0===n.length){if(!i.inputs||0===i.inputs.length)return i;continue}if(!i.inputs)continue;if(0===i.inputs.length)continue;if(i.inputs.length!==n.length)continue;const e=n.every(((e,t)=>{const n="inputs"in i&&i.inputs[t];return!!n&&kr(e,n)}));if(e){if(o&&"inputs"in o&&o.inputs){const e=Br(i.inputs,o.inputs,n);if(e)throw new Mt({abiItem:i,type:e[0]},{abiItem:o,type:e[1]})}o=i}}return o||a[0]}function kr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return cr(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every(((t,n)=>kr(Object.values(e)[n],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every((e=>kr(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function Br(e,t,n){for(const r in e){const s=e[r],a=t[r];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return Br(s.components,a.components,n[r]);const o=[s.type,a.type];if(!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&cr(n[r],{strict:!1}))return o}}const $r="/docs/contract/encodeEventTopics";function Ir(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const e=Er({abi:t,name:n});if(!e)throw new Ct(n,{docsPath:$r});s=e}if("event"!==s.type)throw new Ct(void 0,{docsPath:$r});const a=pt(s),o=er(a);let i=[];if(r&&"inputs"in s){const e=s.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map((e=>r[e.name]))??[]:[];t.length>0&&(i=e?.map(((e,n)=>Array.isArray(t[n])?t[n].map(((r,s)=>Ar({param:e,value:t[n][s]}))):void 0!==t[n]&&null!==t[n]?Ar({param:e,value:t[n]}):null))??[])}return[o,...i]}function Ar({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return Qn(hn(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new _t(e.type);return gr([e],[t])}function Or(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:r,status:s,transport:a})=>{"success"===s&&t===e&&(n[r]=a.request)})),t=>n[t]||e.request}async function Nr(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,u=Or(e,{method:"eth_newFilter"}),l=a?Ir({abi:r,args:s,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof o?un(o):o,toBlock:"bigint"==typeof c?un(c):c,topics:l}]});return{abi:r,args:s,eventName:a,id:d,request:u(d),strict:Boolean(i),type:"event"}}function Sr(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}const Tr="/docs/contract/encodeFunctionData";function Cr(e){const{args:t}=e,{abi:n,functionName:r}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const e=Er({abi:t,args:n,name:r});if(!e)throw new Ft(r,{docsPath:Tr});s=e}if("function"!==s.type)throw new Ft(void 0,{docsPath:Tr});return{abi:[s],functionName:Pr(pt(s))}}(e),s=n[0];return lr([r,("inputs"in s&&s.inputs?gr(s.inputs,t??[]):void 0)??"0x"])}const Fr={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},zr={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Mr={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class Rr extends xt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class jr extends xt{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class qr extends xt{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Lr={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new qr({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new jr({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Rr({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Rr({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ur(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Lr);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Gr(e,t={}){void 0!==t.size&&tn(e,{size:t.size});return nn(cn(e,t),t)}function Dr(e,t={}){let n=e;if(void 0!==t.size&&(tn(n,{size:t.size}),n=en(n)),n.length>1||n[0]>1)throw new Yt(n);return Boolean(n[0])}function _r(e,t={}){void 0!==t.size&&tn(e,{size:t.size});return rn(cn(e,t),t)}function Hr(e,t){const n="string"==typeof t?yn(t):t,r=Ur(n);if(0===bt(n)&&e.length>0)throw new $t;if(bt(t)&&bt(t)<32)throw new Bt({data:"string"==typeof t?t:cn(t),params:e,size:bt(t)});let s=0;const a=[];for(let o=0;o<e.length;++o){const t=e[o];r.setPosition(s);const[n,i]=Vr(r,t,{staticPosition:0});s+=i,a.push(n)}return a}function Vr(e,t,{staticPosition:n}){const r=xr(t.type);if(r){const[s,a]=r;return function(e,t,{length:n,staticPosition:r}){if(!n){const n=r+_r(e.readBytes(Kr)),s=n+Zr;e.setPosition(n);const a=_r(e.readBytes(Zr)),o=Wr(t);let i=0;const c=[];for(let r=0;r<a;++r){e.setPosition(s+(o?32*r:i));const[n,a]=Vr(e,t,{staticPosition:s});i+=a,c.push(n)}return e.setPosition(r+32),[c,32]}if(Wr(t)){const s=r+_r(e.readBytes(Kr)),a=[];for(let r=0;r<n;++r){e.setPosition(s+32*r);const[n]=Vr(e,t,{staticPosition:s});a.push(n)}return e.setPosition(r+32),[a,32]}let s=0;const a=[];for(let o=0;o<n;++o){const[n,o]=Vr(e,t,{staticPosition:r+s});s+=o,a.push(n)}return[a,s]}(e,{...t,type:a},{length:s,staticPosition:n})}if("tuple"===t.type)return function(e,t,{staticPosition:n}){const r=0===t.components.length||t.components.some((({name:e})=>!e)),s=r?[]:{};let a=0;if(Wr(t)){const o=n+_r(e.readBytes(Kr));for(let n=0;n<t.components.length;++n){const i=t.components[n];e.setPosition(o+a);const[c,u]=Vr(e,i,{staticPosition:o});a+=u,s[r?n:i?.name]=c}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=Vr(e,i,{staticPosition:n});s[r?o:i?.name]=c,a+=u}return[s,a]}(e,t,{staticPosition:n});if("address"===t.type)return function(e){const t=e.readBytes(32);return[sr(cn(pr(t,-20))),32]}(e);if("bool"===t.type)return function(e){return[Dr(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const t=_r(e.readBytes(32));e.setPosition(n+t);const r=_r(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const s=e.readBytes(r);return e.setPosition(n+32),[cn(s),32]}const a=cn(e.readBytes(Number.parseInt(s),32));return[a,32]}(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Gr(s,{signed:n}):_r(s,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=_r(e.readBytes(32)),r=t+n;e.setPosition(r);const s=_r(e.readBytes(32));if(0===s)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=function(e,t={}){let n=e;return void 0!==t.size&&(tn(n,{size:t.size}),n=en(n,{dir:"right"})),(new TextDecoder).decode(n)}(en(a));return e.setPosition(t+32),[o,32]}(e,{staticPosition:n});throw new Ut(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Zr=32,Kr=32;function Wr(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(Wr);const n=xr(e.type);return!(!n||!Wr({...e,type:n[1]}))}function Qr(e){const{abi:t,data:n}=e,r=dr(n,0,4);if("0x"===r)throw new $t;const s=[...t||[],zr,Mr].find((e=>"error"===e.type&&r===Pr(pt(e))));if(!s)throw new Nt(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Hr(s.inputs,dr(n,4)):void 0,errorName:s.name}}const Yr=(e,t,n)=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString():t),n);function Jr({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map(((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?Yr(t[n]):t[n]}`)).join(", ")})`}const Xr={gwei:9,wei:18},es={ether:-9,wei:9};function ts(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function ns(e,t="wei"){return ts(e,Xr[t])}function rs(e,t="wei"){return ts(e,es[t])}class ss extends xt{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class as extends xt{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function os(e){return e.reduce(((e,{slot:t,value:n})=>`${e}        ${t}: ${n}\n`),"")}function is(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),n=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`)).join("\n")}class cs extends xt{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"),{name:"FeeConflictError"})}}class us extends xt{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",is(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ls extends xt{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d}){const f=is({chain:r&&`${r?.name} (id: ${r?.id})`,from:t?.address,to:l,value:void 0!==d&&`${ns(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${rs(o)} gwei`,maxFeePerGas:void 0!==i&&`${rs(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${rs(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ds extends xt{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:s}){let a="Transaction";n&&void 0!==s&&(a=`Transaction at block time "${n}" at index "${s}"`),e&&void 0!==s&&(a=`Transaction at block hash "${e}" at index "${s}"`),t&&void 0!==s&&(a=`Transaction at block number "${t}" at index "${s}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class fs extends xt{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class hs extends xt{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class ps extends xt{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d,stateOverride:f}){const h=t?Sr(t):void 0;let p=is({from:h?.address,to:l,value:void 0!==d&&`${ns(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${rs(o)} gwei`,maxFeePerGas:void 0!==i&&`${rs(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${rs(c)} gwei`,nonce:u});f&&(p+=`\n${function(e){return e.reduce(((e,{address:t,...n})=>{let r=`${e}    ${t}:\n`;return n.nonce&&(r+=`      nonce: ${n.nonce}\n`),n.balance&&(r+=`      balance: ${n.balance}\n`),n.code&&(r+=`      code: ${n.code}\n`),n.state&&(r+="      state:\n",r+=os(n.state)),n.stateDiff&&(r+="      stateDiff:\n",r+=os(n.stateDiff)),r}),"  State Override:\n").slice(0,-1)}(f)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ms extends xt{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:a,sender:o}){const i=Er({abi:t,args:n,name:a}),c=i?Jr({abiItem:i,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=is({address:r&&r,function:i?pt(i,{includeName:!0}):void 0,args:c&&"()"!==c&&`${[...Array(a?.length??0).keys()].map((()=>" ")).join("")}${c}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],u&&"Contract Call:",u].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=a,this.sender=o}}class ys extends xt{constructor({abi:e,data:t,functionName:n,message:r}){let s,a,o,i,c;if(t&&"0x"!==t)try{a=Qr({abi:e,data:t});const{abiItem:n,errorName:r,args:s}=a;if("Error"===r)i=s[0];else if("Panic"===r){const[e]=s;i=Fr[e]}else{const e=n?pt(n,{includeName:!0}):void 0,t=n&&s?Jr({abiItem:n,args:s,includeFunctionName:!1,includeName:!1}):void 0;o=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(u){s=u}else r&&(i=r);s instanceof Nt&&(c=s.signature,o=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(i&&"execution reverted"!==i||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,i||c].join("\n"):`The contract function "${n}" reverted.`,{cause:s,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=t,this.reason=i,this.signature=c}}class bs extends xt{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class gs extends xt{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class ws extends xt{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class vs extends xt{constructor({body:e,cause:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${a}`,e&&`Request body: ${Yr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=s,this.url=a}}class xs extends xt{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${n}`,`Request body: ${Yr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class Ps extends xt{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${t}`,`Request body: ${Yr(e)}`],name:"TimeoutError"})}}class Es extends xt{constructor(e,{code:t,docsPath:n,metaMessages:r,name:s,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof xs?e.code:t??-1}}class ks extends Es{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Bs extends Es{constructor(e){super(e,{code:Bs.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Bs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class $s extends Es{constructor(e){super(e,{code:$s.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty($s,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Is extends Es{constructor(e,{method:t}={}){super(e,{code:Is.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(Is,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class As extends Es{constructor(e){super(e,{code:As.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(As,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Os extends Es{constructor(e){super(e,{code:Os.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Os,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ns extends Es{constructor(e){super(e,{code:Ns.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(Ns,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Ss extends Es{constructor(e){super(e,{code:Ss.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Ss,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ts extends Es{constructor(e){super(e,{code:Ts.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ts,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Cs extends Es{constructor(e){super(e,{code:Cs.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Cs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Fs extends Es{constructor(e,{method:t}={}){super(e,{code:Fs.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(Fs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class zs extends Es{constructor(e){super(e,{code:zs.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(zs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ms extends Es{constructor(e){super(e,{code:Ms.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Ms,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Rs extends ks{constructor(e){super(e,{code:Rs.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Rs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class js extends ks{constructor(e){super(e,{code:js.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(js,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class qs extends ks{constructor(e,{method:t}={}){super(e,{code:qs.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(qs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ls extends ks{constructor(e){super(e,{code:Ls.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ls,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Us extends ks{constructor(e){super(e,{code:Us.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Us,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Gs extends ks{constructor(e){super(e,{code:Gs.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Gs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ds extends Es{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const _s=3;function Hs(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const i=e instanceof ws?e:e instanceof xt?e.walk((e=>"data"in e))||e.walk():{},{code:c,data:u,details:l,message:d,shortMessage:f}=i,h=e instanceof $t?new bs({functionName:a}):[_s,Os.code].includes(c)&&(u||l||d||f)?new ys({abi:t,data:"object"==typeof u?u.data:u,functionName:a,message:i instanceof xs?l:f??d}):e;return new ms(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}function Vs(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function Zs({hash:e,signature:t}){return n=await async function({hash:e,signature:t}){const n=yt(e)?e:an(e),{secp256k1:r}=await Y((async()=>{const{secp256k1:e}=await Promise.resolve().then((()=>cd));return{secp256k1:e}}),void 0);return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:s,yParity:a}=t,o=Vs(Number(a??s));return new r.Signature(nn(e),nn(n)).addRecoveryBit(o)}const e=yt(t)?t:an(t),n=Vs(rn(`0x${e.slice(130)}`));return r.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}({hash:e,signature:t}),sr(`0x${Qn(`0x${n.substring(4)}`).substring(26)}`);var n}function Ks(e,t="hex"){const n=Ws(e),r=Ur(new Uint8Array(n.length));return n.encode(r),"hex"===t?cn(r.bytes):r.bytes}function Ws(e){return Array.isArray(e)?function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=Qs(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t));for(const{encode:t}of e)t(r)}}}(e.map((e=>Ws(e)))):function(e){const t="string"==typeof e?yn(e):e,n=Qs(t.length),r=1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length;return{length:r,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function Qs(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new xt("Length is too large.")}function Ys(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,a=Qn(lr(["0x05",Ks([t?un(t):"0x",n,r?un(r):"0x"])]));return"bytes"===s?yn(a):a}async function Js(e){const{authorization:t,signature:n}=e;return Zs({hash:Ys(t),signature:n??t})}class Xs extends xt{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d}){const f=is({from:t?.address,to:l,value:void 0!==d&&`${ns(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${rs(o)} gwei`,maxFeePerGas:void 0!==i&&`${rs(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${rs(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ea extends xt{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(ea,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ta extends xt{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${rs(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(ta,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class na extends xt{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${rs(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(na,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ra extends xt{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(ra,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class sa extends xt{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(sa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class aa extends xt{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(aa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class oa extends xt{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(oa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class ia extends xt{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(ia,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ca extends xt{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(ca,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ua extends xt{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ua,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class la extends xt{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${rs(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${rs(n)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(la,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class da extends xt{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function fa(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof xt?e.walk((e=>e?.code===ea.code)):e;return r instanceof xt?new ea({cause:e,message:r.details}):ea.nodeMessage.test(n)?new ea({cause:e,message:e.details}):ta.nodeMessage.test(n)?new ta({cause:e,maxFeePerGas:t?.maxFeePerGas}):na.nodeMessage.test(n)?new na({cause:e,maxFeePerGas:t?.maxFeePerGas}):ra.nodeMessage.test(n)?new ra({cause:e,nonce:t?.nonce}):sa.nodeMessage.test(n)?new sa({cause:e,nonce:t?.nonce}):aa.nodeMessage.test(n)?new aa({cause:e,nonce:t?.nonce}):oa.nodeMessage.test(n)?new oa({cause:e}):ia.nodeMessage.test(n)?new ia({cause:e,gas:t?.gas}):ca.nodeMessage.test(n)?new ca({cause:e,gas:t?.gas}):ua.nodeMessage.test(n)?new ua({cause:e}):la.nodeMessage.test(n)?new la({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new da({cause:e})}function ha(e,{format:t}){if(!t)return{};const n={};return function t(r){const s=Object.keys(r);for(const a of s)a in e&&(n[a]=e[a]),r[a]&&"object"==typeof r[a]&&!Array.isArray(r[a])&&t(r[a])}(t(e||{})),n}const pa={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ma(e){const t={};return void 0!==e.authorizationList&&(t.authorizationList=e.authorizationList.map((e=>({address:e.contractAddress,r:e.r,s:e.s,chainId:un(e.chainId),nonce:un(e.nonce),...void 0!==e.yParity?{yParity:un(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:un(e.v)}:{}})))),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map((e=>cn(e))):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=un(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=un(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=un(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=un(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=un(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=un(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=pa[e.type]),void 0!==e.value&&(t.value=un(e.value)),t}function ya(e){if(e&&0!==e.length)return e.reduce(((e,{slot:t,value:n})=>{if(66!==t.length)throw new Zt({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new Zt({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e}),{})}function ba(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(void 0!==a&&(o.code=a),void 0!==t&&(o.balance=un(t)),void 0!==n&&(o.nonce=un(n)),void 0!==r&&(o.state=ya(r)),void 0!==s){if(o.state)throw new as;o.stateDiff=ya(s)}return o}function ga(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!cr(n,{strict:!1}))throw new tr({address:n});if(t[n])throw new ss({address:n});t[n]=ba(r)}return t}const wa=2n**256n-1n;function va(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?Sr(t):void 0;if(o&&!cr(o.address))throw new tr({address:o.address});if(a&&!cr(a))throw new tr({address:a});if(void 0!==n&&(void 0!==r||void 0!==s))throw new cs;if(r&&r>wa)throw new ta({maxFeePerGas:r});if(s&&r&&s>r)throw new la({maxFeePerGas:r,maxPriorityFeePerGas:s})}class xa extends xt{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Pa extends xt{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Ea extends xt{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${rs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ka extends xt{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const Ba={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function $a(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?rn(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?rn(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Ba[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map((e=>({contractAddress:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)})))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}function Ia(e){const t=(e.transactions??[]).map((e=>"string"==typeof e?e:$a(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Aa(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){const a=r??"latest",o=s??!1,i=void 0!==n?un(n):void 0;let c=null;if(c=t?await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[i||a,o]},{dedupe:Boolean(i)}),!c)throw new ka({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Ia)(c)}async function Oa(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Na(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const t=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if("function"==typeof t){const r=n||await ht(e,Aa,"getBlock")({}),a=await t({block:r,client:e,request:s});if(null===a)throw new Error;return a}if(void 0!==t)return t;return nn(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):ht(e,Aa,"getBlock")({}),ht(e,Oa,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new Pa;const s=r-t.baseFeePerGas;return s<0n?0n:s}}async function Sa(e,t){const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new xa;const i=10**(o.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(o*i))/BigInt(i),u=n||await ht(e,Aa,"getBlock")({});if("function"==typeof r?.fees?.estimateFeesPerGas){const t=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:s,type:a});if(null!==t)return t}if("eip1559"===a){if("bigint"!=typeof u.baseFeePerGas)throw new Pa;const t="bigint"==typeof s?.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await Na(e,{block:u,chain:r,request:s}),n=c(u.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:s?.gasPrice??c(await ht(e,Oa,"getGasPrice")({}))}}async function Ta(e,{address:t,blockTag:n="latest",blockNumber:r}){return rn(await e.request({method:"eth_getTransactionCount",params:[t,r?un(r):n]},{dedupe:Boolean(r)}))}function Ca(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map((e=>yn(e))):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return"bytes"===n?s:s.map((e=>cn(e)))}function Fa(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map((e=>yn(e))):e.blobs,s="string"==typeof e.commitments[0]?e.commitments.map((e=>yn(e))):e.commitments,a=[];for(let o=0;o<r.length;o++){const e=r[o],n=s[o];a.push(Uint8Array.from(t.computeBlobKzgProof(e,n)))}return"bytes"===n?a:a.map((e=>cn(e)))}function za(e,t,n){return e&t^e&n^t&n}class Ma extends Tn{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=In(this.buffer)}update(e){vn(this);const{view:t,buffer:n,blockLen:r}=this,s=(e=Sn(e)).length;for(let a=0;a<s;){const o=Math.min(r-this.pos,s-a);if(o!==r)n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=In(e);for(;r<=s-a;a+=r)this.process(t,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){vn(this),xn(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let l=a;l<r;l++)t[l]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),o=Number(n>>s&a),i=Number(n&a),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,i,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const o=In(e),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=i/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:a,pos:o}=this;return e.length=r,e.pos=o,e.finished=s,e.destroyed=a,r%t&&e.buffer.set(n),e}}const Ra=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ja=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qa=new Uint32Array(64);class La extends Ma{constructor(){super(64,32,8,!1),this.A=0|ja[0],this.B=0|ja[1],this.C=0|ja[2],this.D=0|ja[3],this.E=0|ja[4],this.F=0|ja[5],this.G=0|ja[6],this.H=0|ja[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:a,G:o,H:i}=this;return[e,t,n,r,s,a,o,i]}set(e,t,n,r,s,a,o,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|a,this.G=0|o,this.H=0|i}process(e,t){for(let d=0;d<16;d++,t+=4)qa[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=qa[d-15],t=qa[d-2],n=An(e,7)^An(e,18)^e>>>3,r=An(t,17)^An(t,19)^t>>>10;qa[d]=r+qa[d-7]+n+qa[d-16]|0}let{A:n,B:r,C:s,D:a,E:o,F:i,G:c,H:u}=this;for(let d=0;d<64;d++){const e=u+(An(o,6)^An(o,11)^An(o,25))+((l=o)&i^~l&c)+Ra[d]+qa[d]|0,t=(An(n,2)^An(n,13)^An(n,22))+za(n,r,s)|0;u=c,c=i,i=o,o=a+e|0,a=s,s=r,r=n,n=e+t|0}var l;n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,i=i+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,s,a,o,i,c,u)}roundClean(){qa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ua=Cn((()=>new La));function Ga(e){const{commitment:t,version:n=1}=e,r=e.to??("string"==typeof t?"hex":"bytes"),s=Ua(yt(a=t,{strict:!1})?hn(a):a);var a;return s.set([n],0),"bytes"===r?s:cn(s)}const Da=4096,_a=131072,Ha=761855;class Va extends xt{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class Za extends xt{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Ka(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??function(e){const t="string"==typeof e.data?yn(e.data):e.data,n=bt(t);if(!n)throw new Za;if(n>Ha)throw new Va({maxSize:Ha,size:n});const r=[];let s=!0,a=0;for(;s;){const e=Ur(new Uint8Array(_a));let n=0;for(;n<Da;){const r=t.slice(a,a+31);if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),s=!1;break}n++,a+=31}r.push(e)}return r.map((e=>cn(e.bytes)))}({data:t}),a=e.commitments??Ca({blobs:s,kzg:n,to:r}),o=e.proofs??Fa({blobs:s,commitments:a,kzg:n,to:r}),i=[];for(let c=0;c<s.length;c++)i.push({blob:s[c],commitment:a[c],proof:o[c]});return i}async function Wa(e){return rn(await e.request({method:"eth_chainId"},{dedupe:!0}))}const Qa=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Ya=new Map;async function Ja(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:o,nonce:i,nonceManager:c,parameters:u=Qa,type:l}=t,d=n?Sr(n):n,f={...t,...d?{from:d?.address}:{}};let h,p;async function m(){return h||(h=await ht(e,Aa,"getBlock")({blockTag:"latest"}),h)}async function y(){if(p)return p;if(s)return s.id;if(void 0!==t.chainId)return t.chainId;const n=await ht(e,Wa,"getChainId")({});return p=n,p}if(u.includes("nonce")&&void 0===i&&d)if(c){const t=await y();f.nonce=await c.consume({address:d.address,chainId:t,client:e})}else f.nonce=await ht(e,Ta,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const e=Ca({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const t=function(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const a of t)s.push(Ga({commitment:a,to:r,version:n}));return s}({commitments:e,to:"hex"});f.blobVersionedHashes=t}if(u.includes("sidecars")){const t=Ka({blobs:r,commitments:e,proofs:Fa({blobs:r,commitments:e,kzg:o}),to:"hex"});f.sidecars=t}}if(u.includes("chainId")&&(f.chainId=await y()),(u.includes("fees")||u.includes("type"))&&void 0===l)try{f.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new us({transaction:e})}(f)}catch{let t=Ya.get(e.uid);if(void 0===t){const n=await m();t="bigint"==typeof n?.baseFeePerGas,Ya.set(e.uid,t)}f.type=t?"eip1559":"legacy"}if(u.includes("fees"))if("legacy"!==f.type&&"eip2930"!==f.type){if(void 0===f.maxFeePerGas||void 0===f.maxPriorityFeePerGas){const n=await m(),{maxFeePerGas:r,maxPriorityFeePerGas:a}=await Sa(e,{block:n,chain:s,request:f});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<a)throw new Ea({maxPriorityFeePerGas:a});f.maxPriorityFeePerGas=a,f.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new Pa;if(void 0===t.gasPrice){const t=await m(),{gasPrice:n}=await Sa(e,{block:t,chain:s,request:f,type:"legacy"});f.gasPrice=n}}return u.includes("gas")&&void 0===a&&(f.gas=await ht(e,eo,"estimateGas")({...f,account:d?{address:d.address,type:"json-rpc"}:d})),va(f),delete f.parameters,f}async function Xa(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?un(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function eo(e,t){const{account:n=e.account}=t,r=n?Sr(n):void 0;try{const{accessList:a,authorizationList:o,blobs:i,blobVersionedHashes:c,blockNumber:u,blockTag:l,data:d,gas:f,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:b,value:g,stateOverride:w,...v}=await Ja(e,{...t,parameters:"local"===r?.type?void 0:["blobVersionedHashes"]}),x=(u?un(u):void 0)||l,P=ga(w),E=await(async()=>v.to?v.to:o&&o.length>0?await Js({authorization:o[0]}).catch((()=>{throw new xt("`to` is required. Could not infer from `authorizationList`")})):void 0)();va(t);const k=e.chain?.formatters?.transactionRequest?.format,B=(k||ma)({...ha(v,{format:k}),from:r?.address,accessList:a,authorizationList:o,blobs:i,blobVersionedHashes:c,data:d,gas:f,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:b,to:E,value:g});function $(t){const{block:n,request:r,rpcStateOverride:s}=t;return e.request({method:"eth_estimateGas",params:s?[r,n??"latest",s]:n?[r,n]:[r]})}let I=BigInt(await $({block:x,request:B,rpcStateOverride:P}));if(o){const A=await Xa(e,{address:B.from}),O=await Promise.all(o.map((async e=>{const{contractAddress:t}=e,n=await $({block:x,request:{authorizationList:void 0,data:d,from:r?.address,to:t,value:un(A)},rpcStateOverride:P}).catch((()=>100000n));return 2n*BigInt(n)})));I+=O.reduce(((e,t)=>e+t),0n)}return I}catch(s){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=fa(e,n);return t instanceof da?e:t})();return new Xs(r,{docsPath:t,...n})}(s,{...t,account:r,chain:e.chain})}}function to(e,t){if(!cr(e,{strict:!1}))throw new tr({address:e});if(!cr(t,{strict:!1}))throw new tr({address:t});return e.toLowerCase()===t.toLowerCase()}const no="/docs/contract/decodeEventLog";function ro(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[o,...i]=s;if(!o)throw new St({docsPath:no});const c=1===t.length?t[0]:t.find((e=>"event"===e.type&&o===er(pt(e))));if(!c||!("name"in c)||"event"!==c.type)throw new Tt(o,{docsPath:no});const{name:u,inputs:l}=c,d=l?.some((e=>!("name"in e&&e.name)));let f=d?[]:{};const h=l.filter((e=>"indexed"in e&&e.indexed));for(let y=0;y<h.length;y++){const e=h[y],t=i[y];if(!t)throw new qt({abiItem:c,param:e});f[d?y:e.name||y]=so({param:e,value:t})}const p=l.filter((e=>!("indexed"in e&&e.indexed)));if(p.length>0)if(n&&"0x"!==n)try{const e=Hr(p,n);if(e)if(d)f=[...f,...e];else for(let t=0;t<p.length;t++)f[p[t].name]=e[t]}catch(m){if(a){if(m instanceof Bt||m instanceof jr)throw new jt({abiItem:c,data:n,params:p,size:bt(n)});throw m}}else if(a)throw new jt({abiItem:c,data:"0x",params:p,size:0});return{eventName:u,args:Object.values(f).length>0?f:void 0}}function so({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return(Hr([e],t)||[])[0]}function ao(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map((e=>{try{const r=t.find((t=>"event"===t.type&&e.topics[0]===er(t)));if(!r)return null;const o=ro({...e,abi:[r],strict:s});return a&&!a.includes(o.eventName)?null:function(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(e,t,n){try{return"address"===e.type?to(t,n):"string"===e.type||"bytes"===e.type?Qn(hn(t))===n:t===n}catch{return!1}}if(Array.isArray(t)&&Array.isArray(r))return r.every(((e,r)=>{if(null==e)return!0;const a=n[r];if(!a)return!1;return(Array.isArray(e)?e:[e]).some((e=>s(a,e,t[r])))}));return"object"==typeof t&&!Array.isArray(t)&&"object"==typeof r&&!Array.isArray(r)&&Object.entries(r).every((([e,r])=>{if(null==r)return!0;const a=n.find((t=>t.name===e));if(!a)return!1;return(Array.isArray(r)?r:[r]).some((n=>s(a,n,t[e])))}))}({args:o.args,inputs:r.inputs,matchArgs:n})?{...o,...e}:null}catch(r){let t,n;if(r instanceof Tt)return null;if(r instanceof jt||r instanceof qt){if(s)return null;t=r.abiItem.name,n=r.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return{...e,args:n?[]:{},eventName:t}}})).filter(Boolean)}function oo(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function io(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const u=c??!1,l=o??(a?[a]:void 0);let d,f=[];if(l){const e=l.flatMap((e=>Ir({abi:[e],eventName:e.name,args:o?void 0:i})));f=[e],a&&(f=f[0])}d=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:"bigint"==typeof r?un(r):r,toBlock:"bigint"==typeof s?un(s):s}]});const h=d.map((e=>oo(e)));return l?ao({abi:l,args:i,logs:h,strict:u}):h}async function co(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,l=o?Er({abi:n,name:o}):void 0,d=l?void 0:n.filter((e=>"event"===e.type));return ht(e,io,"getLogs")({address:r,args:s,blockHash:a,event:l,events:d,fromBlock:i,toBlock:c,strict:u})}const uo="/docs/contract/decodeFunctionResult";function lo(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const e=Er({abi:t,args:n,name:r});if(!e)throw new Ft(r,{docsPath:uo});a=e}if("function"!==a.type)throw new Ft(void 0,{docsPath:uo});if(!a.outputs)throw new zt(a.name,{docsPath:uo});const o=Hr(a.outputs,s);return o&&o.length>1?o:o&&1===o.length?o[0]:void 0}const fo=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],ho=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],po=[...ho,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],mo=[...ho,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],yo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],bo=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],go=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],wo="0x82ad56cb",vo="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",xo="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";class Po extends xt{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Eo extends xt{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class ko extends xt{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"),{name:"ChainNotFoundError"})}}class Bo extends xt{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const $o="/docs/contract/encodeDeployData";function Io(e){const{abi:t,args:n,bytecode:r}=e;if(!n||0===n.length)return r;const s=t.find((e=>"type"in e&&"constructor"===e.type));if(!s)throw new Et({docsPath:$o});if(!("inputs"in s))throw new kt({docsPath:$o});if(!s.inputs||0===s.inputs.length)throw new kt({docsPath:$o});return lr([r,gr(s.inputs,n)])}function Ao({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Po({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Po({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Oo(e,{docsPath:t,...n}){const r=(()=>{const t=fa(e,n);return t instanceof da?e:t})();return new ps(r,{docsPath:t,...n})}function No(){let e=()=>{},t=()=>{};return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}const So=new Map;function To({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const t=i();o();const n=t.map((({args:e})=>e));0!==n.length&&e(n).then((e=>{s&&Array.isArray(e)&&e.sort(s);for(let n=0;n<t.length;n++){const{resolve:r}=t[n];r?.([e[n],e])}})).catch((e=>{for(let n=0;n<t.length;n++){const{reject:r}=t[n];r?.(e)}}))},o=()=>So.delete(t),i=()=>So.get(t)||[],c=e=>So.set(t,[...i(),e]);return{flush:o,async schedule(e){const{promise:t,resolve:s,reject:o}=No(),u=n?.([...i().map((({args:e})=>e)),e]);u&&a();return i().length>0?(c({args:e,resolve:s,reject:o}),t):(c({args:e,resolve:s,reject:o}),setTimeout(a,r),t)}}}async function Co(e,t){const{account:n=e.account,batch:r=Boolean(e.batch?.multicall),blockNumber:s,blockTag:a="latest",accessList:o,blobs:i,code:c,data:u,factory:l,factoryData:d,gas:f,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:b,to:g,value:w,stateOverride:v,...x}=t,P=n?Sr(n):void 0;if(c&&(l||d))throw new xt("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&g)throw new xt("Cannot provide both `code` & `to` as parameters.");const E=c&&u,k=l&&d&&g&&u,B=E||k,$=E?function(e){const{code:t,data:n}=e;return Io({abi:dt(["constructor(bytes, bytes)"]),bytecode:vo,args:[t,n]})}({code:c,data:u}):k?function(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Io({abi:dt(["constructor(address, bytes, address, bytes)"]),bytecode:xo,args:[s,t,n,r]})}({data:u,factory:l,factoryData:d,to:g}):u;try{va(t);const n=(s?un(s):void 0)||a,c=ga(v),u=e.chain?.formatters?.transactionRequest?.format,l=(u||ma)({...ha(x,{format:u}),from:P?.address,accessList:o,blobs:i,data:$,gas:f,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:b,to:B?void 0:g,value:w});if(r&&function({request:e}){const{data:t,to:n,...r}=e;return!!t&&(!t.startsWith(wo)&&(!!n&&!(Object.values(r).filter((e=>void 0!==e)).length>0)))}({request:l})&&!c)try{return await async function(e,t){const{batchSize:n=1024,wait:r=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new Bo;u=Ao({blockNumber:s,chain:e.chain,contract:"multicall3"})}const l=s?un(s):void 0,d=l||a,{schedule:f}=To({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(e){const t=e.reduce(((e,{data:t})=>e+(t.length-2)),0);return t>2*n},fn:async t=>{const n=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),r=Cr({abi:fo,args:[n],functionName:"aggregate3"}),s=await e.request({method:"eth_call",params:[{data:r,to:u},d]});return lo({abi:fo,args:[n],functionName:"aggregate3",data:s||"0x"})}}),[{returnData:h,success:p}]=await f({data:o,to:c});if(!p)throw new ws({data:h});return"0x"===h?{data:void 0}:{data:h}}(e,{...l,blockNumber:s,blockTag:a})}catch(I){if(!(I instanceof Bo||I instanceof Po))throw I}const d=await e.request({method:"eth_call",params:c?[l,n,c]:[l,n]});return"0x"===d?{data:void 0}:{data:d}}catch(I){const n=function(e){if(!(e instanceof xt))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(I),{offchainLookup:r,offchainLookupSignature:s}=await Y((async()=>{const{offchainLookup:e,offchainLookupSignature:t}=await Promise.resolve().then((()=>Hi));return{offchainLookup:e,offchainLookupSignature:t}}),void 0);if(!1!==e.ccipRead&&n?.slice(0,10)===s&&g)return{data:await r(e,{data:n,to:g})};if(B&&"0x101bb98d"===n?.slice(0,10))throw new gs({factory:l});throw Oo(I,{...t,account:P,chain:e.chain})}}async function Fo(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=Cr({abi:n,args:s,functionName:a});try{const{data:t}=await ht(e,Co,"call")({...o,data:i,to:r});return lo({abi:n,args:s,functionName:a,data:t||"0x"})}catch(c){throw Hs(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}const zo=new Map,Mo=new Map;let Ro=0;function jo(e,t,n){const r=++Ro,s=()=>zo.get(e)||[],a=()=>{const t=s();if(!t.some((e=>e.id===r)))return;const n=Mo.get(e);1===t.length&&n&&n(),(()=>{const t=s();zo.set(e,t.filter((e=>e.id!==r)))})()},o=s();if(zo.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return a;const i={};for(const u in t)i[u]=(...e)=>{const t=s();if(0!==t.length)for(const n of t)n.fns[u]?.(...e)};const c=n(i);return"function"==typeof c&&Mo.set(e,c),a}async function qo(e){return new Promise((t=>setTimeout(t,e)))}function Lo(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:a}));const i=await(n?.(o))??r;await qo(i);const c=async()=>{s&&(await e({unpoll:a}),await qo(r),c())};c()})(),a}const Uo=new Map,Go=new Map;async function Do(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,Uo),r=t(e,Go);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),s=r.response.get();if(s&&n>0){if((new Date).getTime()-s.created.getTime()<n)return s.data}let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const e=await a;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}async function _o(e,{cacheTime:t=e.cacheTime}={}){const n=await Do((()=>e.request({method:"eth_blockNumber"})),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t});var r;return BigInt(n)}async function Ho(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof r[0])return r;const s=r.map((e=>oo(e)));return"abi"in t&&t.abi?ao({abi:t.abi,logs:s,strict:n}):s}async function Vo(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}class Zo extends xt{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Ko extends xt{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}function Wo({chain:e,currentChainId:t}){if(!e)throw new ko;if(t!==e.id)throw new Eo({chain:e,currentChainId:t})}async function Qo(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Yo=new nr(128);async function Jo(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,value:p,...m}=t;if(void 0===n)throw new Zo({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?Sr(n):null;try{va(t);const n=await(async()=>t.to?t.to:null!==t.to&&a&&a.length>0?await Js({authorization:a[0]}).catch((()=>{throw new xt("`to` is required. Could not infer from `authorizationList`.")})):void 0)();if("json-rpc"===y?.type||null===y){let t;null!==r&&(t=await ht(e,Wa,"getChainId")({}),Wo({currentChainId:t,chain:r}));const g=e.chain?.formatters?.transactionRequest?.format,w=(g||ma)({...ha(m,{format:g}),accessList:s,authorizationList:a,blobs:o,chainId:t,data:i,from:y?.address,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:n,value:p}),v=Yo.get(e.uid),x=v?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:x,params:[w]},{retryCount:0})}catch(b){if(!1===v)throw b;const t=b;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[w]},{retryCount:0}).then((t=>(Yo.set(e.uid,!0),t))).catch((n=>{const r=n;if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw Yo.set(e.uid,!1),t;throw r}));throw t}}if("local"===y?.type){const t=await ht(e,Ja,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:a,blobs:o,chain:r,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:y.nonceManager,parameters:[...Qa,"sidecars"],value:p,...m,to:n}),b=r?.serializers?.transaction,g=await y.signTransaction(t,{serializer:b});return await ht(e,Qo,"sendRawTransaction")({serializedTransaction:g})}if("smart"===y?.type)throw new Ko({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new Ko({docsPath:"/docs/actions/wallet/sendTransaction",type:y?.type})}catch(g){if(g instanceof Ko)throw g;throw function(e,{docsPath:t,...n}){const r=(()=>{const t=fa(e,n);return t instanceof da?e:t})();return new ls(r,{docsPath:t,...n})}(g,{...t,account:y,chain:t.chain||void 0})}}class Xo extends xt{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}const ei=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];let ti,ni=256;function ri(e=11){if(!ti||ni+e>512){ti="",ni=0;for(let e=0;e<256;e++)ti+=(256+256*Math.random()|0).toString(16).substring(1)}return ti.substring(ni,ni+++e)}function si(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:a="Base Client",pollingInterval:o=4e3,type:i="base"}=e,c=e.chain,u=e.account?Sr(e.account):void 0,{config:l,request:d,value:f}=e.transport({chain:c,pollingInterval:o}),h={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:a,pollingInterval:o,request:d,transport:{...l,...f},type:i,uid:ri()};return Object.assign(h,{extend:function e(t){return n=>{const r=n(t);for(const e in h)delete r[e];const s={...t,...r};return Object.assign(s,{extend:e(s)})}}(h)})}const ai=new nr(8192);function oi(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise(((s,a)=>{const o=async({count:i=0}={})=>{try{const t=await e();s(t)}catch(c){if(i<n&&await r({count:i,error:c}))return(async({error:e})=>{const n="function"==typeof t?t({count:i,error:e}):t;n&&await qo(n),o({count:i+1})})({error:c});a(c)}};o()}))}function ii(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:a,retryDelay:o=150,retryCount:i=3,uid:c}={...t,...r},{method:u}=n;if(a?.exclude?.includes(u))throw new Fs(new Error("method not supported"),{method:u});if(a?.include&&!a.include.includes(u))throw new Fs(new Error("method not supported"),{method:u});return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(ai.get(n))return ai.get(n);const r=e().finally((()=>ai.delete(n)));return ai.set(n,r),r}((()=>oi((async()=>{try{return await e(n)}catch(t){const e=t;switch(e.code){case Bs.code:throw new Bs(e);case $s.code:throw new $s(e);case Is.code:throw new Is(e,{method:n.method});case As.code:throw new As(e);case Os.code:throw new Os(e);case Ns.code:throw new Ns(e);case Ss.code:throw new Ss(e);case Ts.code:throw new Ts(e);case Cs.code:throw new Cs(e);case Fs.code:throw new Fs(e,{method:n.method});case zs.code:throw new zs(e);case Ms.code:throw new Ms(e);case Rs.code:throw new Rs(e);case js.code:throw new js(e);case qs.code:throw new qs(e);case Ls.code:throw new Ls(e);case Us.code:throw new Us(e);case Gs.code:throw new Gs(e);case 5e3:throw new Rs(e);default:if(t instanceof xt)throw t;throw new Ds(e)}}}),{delay:({count:e,error:t})=>{if(t&&t instanceof vs){const e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e)}return(1<<e)*o},retryCount:i,shouldRetry:({error:e})=>function(e){if("code"in e&&"number"==typeof e.code)return-1===e.code||(e.code===zs.code||e.code===Os.code);if(e instanceof vs&&e.status)return 403===e.status||(408===e.status||(413===e.status||(429===e.status||(500===e.status||(502===e.status||(503===e.status||504===e.status))))));return!0}(e)})),{enabled:s,id:s?dn(`${c}.${Yr(n)}`):void 0})}}function ci({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:o,type:i},c){return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:o,type:i},request:ii(r,{methods:t,retryCount:s,retryDelay:a,uid:ri()}),value:c}}function ui(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>ci({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}class li extends xt{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function di(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const fi=di();function hi(e,t={}){return{async request(n){const{body:r,onRequest:s=t.onRequest,onResponse:a=t.onResponse,timeout:o=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=i;try{const t=await function(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise(((s,a)=>{(async()=>{let o;try{const t=new AbortController;n>0&&(o=setTimeout((()=>{r&&t.abort()}),n)),s(await e({signal:t?.signal||null}))}catch(i){"AbortError"===i?.name&&a(t),a(i)}finally{clearTimeout(o)}})()}))}((async({signal:t})=>{const n={...i,body:Array.isArray(r)?Yr(r.map((e=>({jsonrpc:"2.0",id:e.id??fi.take(),...e})))):Yr({jsonrpc:"2.0",id:r.id??fi.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:l||(o>0?t:null)},a=new Request(e,n),d=await(s?.(a,n))??{...n,url:e};return await fetch(d.url??e,d)}),{errorInstance:new Ps({body:r,url:e}),timeout:o,signal:!0});let n;if(a&&await a(t),t.headers.get("Content-Type")?.startsWith("application/json"))n=await t.json();else{n=await t.text();try{n=JSON.parse(n||"{}")}catch(d){if(t.ok)throw d;n={error:n}}}if(!t.ok)throw new vs({body:r,details:Yr(n.error)||t.statusText,headers:t.headers,status:t.status,url:e});return n}catch(d){if(d instanceof vs)throw d;if(d instanceof Ps)throw d;throw new vs({body:r,cause:d,url:e})}}}}function pi(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:c,retryDelay:u,raw:l}=t;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:p=1e3,wait:m=0}="object"==typeof n?n:{},y=t.retryCount??f,b=h??t.timeout??1e4,g=e||d?.rpcUrls.default.http[0];if(!g)throw new li;const w=hi(g,{fetchOptions:r,onRequest:i,onResponse:c,timeout:b});return ci({key:s,methods:a,name:o,async request({method:e,params:t}){const r={method:e,params:t},{schedule:s}=To({id:g,wait:m,shouldSplitBatch:e=>e.length>p,fn:e=>w.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:a,result:o}]=await(async e=>n?s(e):[await w.request({body:e})])(r);if(l)return{error:a,result:o};if(a)throw new xs({body:r,error:a,url:g});return o},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:r,url:g})}}function mi(e,t){if(!(e instanceof xt))return!1;const n=e.walk((e=>e instanceof ys));return n instanceof ys&&("ResolverNotFound"===n.data?.errorName||("ResolverWildcardNotSupported"===n.data?.errorName||("ResolverNotContract"===n.data?.errorName||("ResolverError"===n.data?.errorName||("HttpError"===n.data?.errorName||(!!n.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&n.reason===Fr[50]))))))}function yi(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return yt(t)?t:null}function bi(e){let t=new Uint8Array(32).fill(0);if(!e)return cn(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const e=yi(n[r]),s=e?hn(e):Qn(bn(n[r]),"bytes");t=Qn(ur([t,s]),"bytes")}return cn(t)}function gi(e){return`[${e.slice(2)}]`}function wi(e){const t=new Uint8Array(32).fill(0);return e?yi(e)||Qn(bn(e)):cn(t)}function vi(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array(bn(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let e=bn(s[a]);e.byteLength>255&&(e=bn(gi(wi(s[a])))),n[r]=e.length,n.set(e,r+1),r+=e.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}class xi extends xt{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Pi extends xt{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ei extends xt{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ki extends xt{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Bi=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,$i=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ii=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ai=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function Oi(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ni({uri:e,gatewayUrls:t}){const n=Ii.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Oi(t?.ipfs,"https://ipfs.io"),s=Oi(t?.arweave,"https://arweave.net"),a=e.match(Bi),{protocol:o,subpath:i,target:c,subtarget:u=""}=a?.groups||{},l="ipns:/"===o||"ipns/"===i,d="ipfs:/"===o||"ipfs/"===i||$i.test(e);if(e.startsWith("http")&&!l&&!d){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if("ar:/"===o&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Ai,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Ei({uri:e})}function Si(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new xi({data:e});return e.image||e.image_url||e.image_data}async function Ti({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ni({uri:t,gatewayUrls:e});if(r)return n;const s=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e}))}}(n);if(s)return n;throw new Ei({uri:t})}async function Ci(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||"eip155"!==a.toLowerCase())throw new Pi({reason:"Only EIP-155 supported"});if(!o)throw new Pi({reason:"Chain ID not found"});if(!c)throw new Pi({reason:"Contract address not found"});if(!s)throw new Pi({reason:"Token ID not found"});if(!i)throw new Pi({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}(n),s=await async function(e,{nft:t}){if("erc721"===t.namespace)return Fo(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return Fo(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new ki({namespace:t.namespace})}(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=Ni({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const e=i?atob(a.replace("data:application/json;base64,","")):a;return Ti({uri:Si(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then((e=>e.json()));return await Ti({gatewayUrls:e,uri:Si(n)})}catch{throw new Ei({uri:t})}}({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):Ti({uri:n,gatewayUrls:t})}async function Fi(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Ao({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const o={address:c,abi:po,functionName:"resolve",args:[an(vi(r)),Cr({abi:yo,functionName:"text",args:[bi(r),s]})],blockNumber:t,blockTag:n},i=ht(e,Fo,"readContract"),u=a?await i({...o,args:[...o.args,a]}):await i(o);if("0x"===u[0])return null;const l=lo({abi:yo,functionName:"text",data:u[0]});return""===l?null:l}catch(u){if(o)throw u;if(mi(u,"resolve"))return null;throw u}}async function zi(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:f,value:h,...p}=t,m=n?Sr(n):void 0;try{va(t);const n=(r?un(r):void 0)||s,y=e.chain?.formatters?.transactionRequest?.format,b=(y||ma)({...ha(p,{format:y}),from:m?.address,blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:f,value:h}),g=await e.request({method:"eth_createAccessList",params:[b,n]});return{accessList:g.accessList,gasUsed:BigInt(g.gasUsed)}}catch(y){throw Oo(y,{...t,account:m,chain:e.chain})}}async function Mi(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),u=Or(e,{method:"eth_newFilter"});let l=[];if(c){const e=c.flatMap((e=>Ir({abi:[e],eventName:e.name,args:n})));l=[e],r&&(l=l[0])}const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof a?un(a):a,toBlock:"bigint"==typeof i?un(i):i,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:d,request:u(d),strict:Boolean(o),toBlock:i,type:"event"}}async function Ri(e){const t=Or(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function ji(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=void 0!==n?un(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:Boolean(s)});if("0x"!==a)return a}async function qi(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?un(n):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[un(t),a||r,s]},{dedupe:Boolean(a)}))}class Li extends xt{constructor({callbackSelector:e,cause:t,data:n,extraData:r,sender:s,urls:a}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map((e=>`    ${e}`))],`  Sender: ${s}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${r}`].flat(),name:"OffchainLookupError"})}}class Ui extends xt{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${t}`,`Response: ${Yr(e)}`],name:"OffchainLookupResponseMalformedError"})}}class Gi extends xt{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const Di={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function _i({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const o=n[a],i=o.includes("{data}")?"GET":"POST",c="POST"===i?{data:e,sender:t}:void 0,u="POST"===i?{"Content-Type":"application/json"}:{};try{const n=await fetch(o.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:i});let s;if(s=n.headers.get("Content-Type")?.startsWith("application/json")?(await n.json()).data:await n.text(),!n.ok){r=new vs({body:c,details:s?.error?Yr(s.error):n.statusText,headers:n.headers,status:n.status,url:o});continue}if(!yt(s)){r=new Ui({result:s,url:o});continue}return s}catch(s){r=new vs({body:c,details:s.message,url:o})}}throw r}const Hi=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:_i,offchainLookup:async function(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=Qr({data:r,abi:[Di]}),[o,i,c,u,l]=a,{ccipRead:d}=e,f=d&&"function"==typeof d?.request?d.request:_i;try{if(!to(s,o))throw new Gi({sender:o,to:s});const r=await f({data:c,sender:o,urls:i}),{data:a}=await Co(e,{blockNumber:t,blockTag:n,data:ur([u,gr([{type:"bytes"},{type:"bytes"}],[r,l])]),to:s});return a}catch(h){throw new Li({callbackSelector:u,cause:h,data:r,extraData:l,sender:o,urls:i})}},offchainLookupAbiItem:Di,offchainLookupSignature:"0x556f1830"},Symbol.toStringTag,{value:"Module"}));function Vi(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}class Zi extends xt{constructor({domain:e}){super(`Invalid domain "${Yr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Ki extends xt{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Wi extends xt{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Qi(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:rc({domain:t}),...e.types};nc({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(function({domain:e,types:t}){return Yi({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:s})),"EIP712Domain"!==r&&a.push(Yi({data:n,primaryType:r,types:s})),Qn(ur(a))}function Yi({data:e,primaryType:t,types:n}){return Qn(Ji({data:e,primaryType:t,types:n}))}function Ji({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Xi({primaryType:t,types:n})];for(const a of n[t]){const[t,o]=tc({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(t),s.push(o)}return gr(r,s)}function Xi({primaryType:e,types:t}){const n=an(function({primaryType:e,types:t}){let n="";const r=ec({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return n}({primaryType:e,types:t}));return Qn(n)}function ec({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r?.[0];if(n.has(s)||void 0===t[s])return n;n.add(s);for(const a of t[s])ec({primaryType:a.type,types:t},n);return n}function tc({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},Qn(Ji({data:r,primaryType:n,types:e}))];if("bytes"===n){return[{type:"bytes32"},Qn(r=`0x${(r.length%2?"0":"")+r.slice(2)}`)]}if("string"===n)return[{type:"bytes32"},Qn(an(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map((n=>tc({name:t,type:s,types:e,value:n})));return[{type:"bytes32"},Qn(gr(a.map((([e])=>e)),a.map((([,e])=>e))))]}return[{type:n},r]}function nc(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(e,t)=>{for(const n of e){const{name:e,type:r}=n,o=t[e],i=r.match(br);if(i&&("number"==typeof o||"bigint"==typeof o)){const[e,t,n]=i;un(o,{signed:"int"===t,size:Number.parseInt(n)/8})}if("address"===r&&"string"==typeof o&&!cr(o))throw new tr({address:o});const c=r.match(yr);if(c){const[e,t]=c;if(t&&bt(o)!==Number.parseInt(t))throw new Rt({expectedSize:Number.parseInt(t),givenSize:bt(o)})}const u=s[r];u&&(sc(r),a(u,o))}};if(s.EIP712Domain&&t){if("object"!=typeof t)throw new Zi({domain:t});a(s.EIP712Domain,t)}if("EIP712Domain"!==r){if(!s[r])throw new Ki({primaryType:r,types:s});a(s[r],n)}}function rc({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function sc(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Wi({type:e})}const ac={"0x0":"reverted","0x1":"success"};function oc(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>oo(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?rn(e.transactionIndex):null,status:e.status?ac[e.status]:null,type:e.type?Ba[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}function ic(e,t){return Qn(function(e){const t="string"==typeof e?dn(e):"string"==typeof e.raw?e.raw:cn(e.raw);return ur([dn(`Ethereum Signed Message:\n${bt(t)}`),t])}(e),t)}const cc="0x6492649264926492649264926492649264926492649264926492649264926492";class uc extends xt{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function lc(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new uc({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${r}`))&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[e,s,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],o=Math.round(Number(`${s}.${a}`));r=o>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${o}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}async function dc(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=void 0!==n?un(n):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?rn(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map((e=>({...e,value:BigInt(e.value)})))):void 0};var t}(await e.request({method:"eth_getProof",params:[t,s,o||a]}))}async function fc(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){const o=r||"latest",i=void 0!==n?un(n):void 0;let c=null;if(c=s?await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,un(a)]},{dedupe:!0}):await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,un(a)]},{dedupe:Boolean(i)}),!c)throw new ds({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||$a)(c)}async function hc(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new fs({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||oc)(n)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const pc=BigInt(0),mc=BigInt(1),yc=BigInt(2);function bc(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function gc(e){if(!bc(e))throw new Error("Uint8Array expected")}function wc(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const vc=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function xc(e){gc(e);let t="";for(let n=0;n<e.length;n++)t+=vc[e[n]];return t}function Pc(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Ec(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?pc:BigInt("0x"+e)}const kc=48,Bc=57,$c=65,Ic=70,Ac=97,Oc=102;function Nc(e){return e>=kc&&e<=Bc?e-kc:e>=$c&&e<=Ic?e-($c-10):e>=Ac&&e<=Oc?e-(Ac-10):void 0}function Sc(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const t=Nc(e.charCodeAt(a)),n=Nc(e.charCodeAt(a+1));if(void 0===t||void 0===n){const t=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+a)}r[s]=16*t+n}return r}function Tc(e){return Ec(xc(e))}function Cc(e){return gc(e),Ec(xc(Uint8Array.from(e).reverse()))}function Fc(e,t){return Sc(e.toString(16).padStart(2*t,"0"))}function zc(e,t){return Fc(e,t).reverse()}function Mc(e,t,n){let r;if("string"==typeof t)try{r=Sc(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else{if(!bc(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Rc(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];gc(n),t+=n.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const t=e[r];n.set(t,s),s+=t.length}return n}const jc=e=>"bigint"==typeof e&&pc<=e;function qc(e,t,n){return jc(e)&&jc(t)&&jc(n)&&t<=e&&e<n}function Lc(e,t,n,r){if(!qc(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Uc(e){let t;for(t=0;e>pc;e>>=mc,t+=1);return t}const Gc=e=>(yc<<BigInt(e-1))-mc,Dc=e=>new Uint8Array(e),_c=e=>Uint8Array.from(e);function Hc(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=Dc(e),s=Dc(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},i=(...e)=>n(s,r,...e),c=(e=Dc())=>{s=i(_c([0]),e),r=i(),0!==e.length&&(s=i(_c([1]),e),r=i())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=i();const t=r.slice();n.push(t),e+=r.length}return Rc(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(u()));)c();return o(),n}}const Vc={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||bc(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Zc(e,t,n={}){const r=(t,n,r)=>{const s=Vc[n];if("function"!=typeof s)throw new Error("invalid validator function");const a=e[t];if(!(r&&void 0===a||s(a,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+a)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}function Kc(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(void 0!==s)return s;const a=e(n,...r);return t.set(n,a),a}}const Wc=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Lc,abool:wc,abytes:gc,bitGet:function(e,t){return e>>BigInt(t)&mc},bitLen:Uc,bitMask:Gc,bitSet:function(e,t,n){return e|(n?mc:pc)<<BigInt(t)},bytesToHex:xc,bytesToNumberBE:Tc,bytesToNumberLE:Cc,concatBytes:Rc,createHmacDrbg:Hc,ensureBytes:Mc,equalBytes:function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},hexToBytes:Sc,hexToNumber:Ec,inRange:qc,isBytes:bc,memoized:Kc,notImplemented:()=>{throw new Error("not implemented")},numberToBytesBE:Fc,numberToBytesLE:zc,numberToHexUnpadded:Pc,numberToVarBytesBE:function(e){return Sc(Pc(e))},utf8ToBytes:function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))},validateObject:Zc},Symbol.toStringTag,{value:"Module"}));class Qc extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof Qc){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),r=t.cause instanceof Qc&&t.cause.docsPath||t.docsPath,s=`https://oxlib.sh${r??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?`Details: ${n}`:void 0,r?`See: ${s}`:void 0]:[]].filter((e=>"string"==typeof e)).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=s,this.docsPath=r,this.shortMessage=e}walk(e){return Yc(this,e)}}function Yc(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?Yc(e.cause,t):t?null:e}const Jc=48,Xc=57,eu=65,tu=70,nu=97,ru=102;function su(e){return e>=Jc&&e<=Xc?e-Jc:e>=eu&&e<=tu?e-(eu-10):e>=nu&&e<=ru?e-(nu-10):void 0}function au(e,t){if(ku(e)>t)throw new Nu({givenSize:ku(e),maxSize:t})}function ou(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;const s=e.replace("0x","");if(s.length>2*r)throw new Tu({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s["right"===n?"padEnd":"padStart"](2*r,"0")}`}const iu=new TextEncoder;function cu(e){return e instanceof Uint8Array?e:"string"==typeof e?uu(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function uu(e,t={}){const{size:n}=t;let r=e;n&&(au(e,n),r=Pu(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,o=new Uint8Array(a);for(let i=0,c=0;i<a;i++){const e=su(s.charCodeAt(c++)),t=su(s.charCodeAt(c++));if(void 0===e||void 0===t)throw new Qc(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[i]=16*e+t}return o}function lu(e,t={}){const{size:n}=t,r=iu.encode(e);return"number"==typeof n?(function(e,t){if(du(e)>t)throw new fu({givenSize:du(e),maxSize:t})}(r,n),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new hu({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const t="right"===n;s[t?a:r-a-1]=e[t?a:e.length-a-1]}return s}(e,{dir:"right",size:t})}(r,n)):r}function du(e){return e.length}let fu=class extends Qc{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},hu=class extends Qc{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const pu=new TextEncoder,mu=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function yu(...e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}function bu(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(au(n,t.size),xu(n,t.size)):n}function gu(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=mu[e[s]];const r=`0x${n}`;return"number"==typeof t.size?(au(r,t.size),Pu(r,t.size)):r}function wu(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof a&&n?-a-1n:0;if(a&&s>a||s<o){const t="bigint"==typeof e?"n":"";throw new Iu({max:a?`${a}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const i=`0x${(n&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16)}`;return r?xu(i,r):i}function vu(e,t={}){return gu(pu.encode(e),t)}function xu(e,t){return ou(e,{dir:"left",size:t})}function Pu(e,t){return ou(e,{dir:"right",size:t})}function Eu(e,t,n,r={}){const{strict:s}=r;!function(e,t){if("number"==typeof t&&t>0&&t>ku(e)-1)throw new Su({offset:t,position:"start",size:ku(e)})}(e,t);const a=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return s&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&ku(e)!==n-t)throw new Su({offset:n,position:"end",size:ku(e)})}(a,t,n),a}function ku(e){return Math.ceil((e.length-2)/2)}function Bu(e,t={}){return uu(e,t)}function $u(e,t={}){const{strict:n=!1}=t;try{return function(e,t={}){const{strict:n=!1}=t;if(!e)throw new Au(e);if("string"!=typeof e)throw new Au(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ou(e);if(!e.startsWith("0x"))throw new Ou(e)}(e,{strict:n}),!0}catch{return!1}}class Iu extends Qc{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number \`${s}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Au extends Qc{constructor(e){super(`Value \`${"object"==typeof e?function(e,t,n){return JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"#__bigint":t),n)}(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Ou extends Qc{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Nu extends Qc{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Su extends Qc{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Tu extends Qc{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Cu(e){return{address:e.address,amount:wu(e.amount),index:wu(e.index),validatorIndex:wu(e.validatorIndex)}}function Fu(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:wu(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:wu(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:wu(e.gasLimit)},..."bigint"==typeof e.number&&{number:wu(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:wu(e.prevRandao)},..."bigint"==typeof e.time&&{time:wu(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Cu)}}}async function zu(e,t){const{blockNumber:n,blockTag:r="latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:i}=t;try{const t=[];for(const e of s){const n=e.blockOverrides?Fu(e.blockOverrides):void 0,r=e.calls.map((e=>{const t=e,n=t.account?Sr(t.account):void 0,r={...t,data:t.abi?Cr(t):t.data,from:t.from??n?.address};return va(r),ma(r)})),s=e.stateOverrides?ga(e.stateOverrides):void 0;t.push({blockOverrides:n,calls:r,stateOverrides:s})}const c=(n?un(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:a,traceTransfers:o,validation:i},c]})).map(((e,t)=>({...Ia(e),calls:e.calls.map(((e,n)=>{const{abi:r,args:a,functionName:o,to:i}=s[t].calls[n],c=e.error?.data??e.returnData,u=BigInt(e.gasUsed),l=e.logs?.map((e=>oo(e))),d="0x1"===e.status?"success":"failure",f=r&&"success"===d&&"0x"!==c?lo({abi:r,data:c,functionName:o}):null,h=(()=>{if("success"===d)return;let t;return"0x"===e.error?.data?t=new $t:e.error&&(t=new ws(e.error)),t?Hs(t,{abi:r??[],address:i,args:a,functionName:o??"<unknown>"}):void 0})();return{data:c,gasUsed:u,logs:l,status:d,..."success"===d?{result:f}:{error:h}}}))})))}catch(c){const e=c,t=fa(e,{});if(t instanceof da)throw e;throw t}}function Mu(e,t={}){const{as:n=("string"==typeof e?"Hex":"Bytes")}=t,r=Wn(cu(e));return"Bytes"===n?r:gu(r)}class Ru extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const ju={checksum:new Ru(8192)}.checksum,qu=/^0x[a-fA-F0-9]{40}$/;function Lu(e,t={}){const{strict:n=!0}=t;if(!qu.test(e))throw new Gu({address:e,cause:new Du});if(n){if(e.toLowerCase()===e)return;if(function(e){if(ju.has(e))return ju.get(e);Lu(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Mu(lu(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(15&n[a>>1])>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return ju.set(e,s),s}(e)!==e)throw new Gu({address:e,cause:new _u})}}function Uu(e,t={}){const{strict:n=!0}=t??{};try{return Lu(e,{strict:n}),!0}catch{return!1}}class Gu extends Qc{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Du extends Qc{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class _u extends Qc{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Hu(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),"("===i&&r++,")"===i&&r--,t)if(0!==r)" "!==i?(s+=i,n+=i):","!==e[o-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===i&&["event","function","error",""].includes(s))s="";else if(s+=i,")"===i){a=!0;break}}if(!a)throw new Qc("Unable to normalize signature.");return s}function Vu(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Uu(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every(((t,n)=>Vu(Object.values(e)[n],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every((e=>Vu(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function Zu(e,t,n){for(const r in e){const s=e[r],a=t[r];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return Zu(s.components,a.components,n[r]);const o=[s.type,a.type];if(!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&Uu(n[r],{strict:!1}))return o}}function Ku(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||"string"==typeof e?ft(e):e;return{...r,...n?{hash:Qu(r)}:{}}}function Wu(e){return Eu(Qu(e),0,4)}function Qu(e){return"string"!=typeof e&&"hash"in e&&e.hash?e.hash:Mu(vu(function(e){return Hu("string"==typeof e?e:Ae(e))}(e)))}class Yu extends Qc{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Hu(Ae(e.abiItem))}\`, and`,`\`${t.type}\` in \`${Hu(Ae(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Ju extends Qc{constructor({name:e,data:t,type:n="item"}){super(`ABI ${n}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const Xu=/^(.*)\[([0-9]*)\]$/,el=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tl=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function nl({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=function(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}(r.type);if(s){const[t,a]=s;return function(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=null===r;if(!Array.isArray(e))throw new ul(e);if(!a&&e.length!==r)throw new ol({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const i=[];for(let c=0;c<e.length;c++){const t=nl({checksumAddress:n,parameter:s,value:e[c]});t.dynamic&&(o=!0),i.push(t)}if(a||o){const e=rl(i);if(a){const t=wu(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?yu(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:yu(...i.map((({encoded:e})=>e)))}}(n,{checksumAddress:e,length:t,parameter:{...r,type:a}})}if("tuple"===r.type)return function(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let o=0;o<r.components.length;o++){const t=r.components[o],i=nl({checksumAddress:n,parameter:t,value:e[Array.isArray(e)?o:t.name]});a.push(i),i.dynamic&&(s=!0)}return{dynamic:s,encoded:s?rl(a):yu(...a.map((({encoded:e})=>e)))}}(n,{checksumAddress:e,parameter:r});if("address"===r.type)return function(e,t){const{checksum:n=!1}=t;return Lu(e,{strict:n}),{dynamic:!1,encoded:xu(e.toLowerCase())}}(n,{checksum:e});if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new Qc(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:xu(bu(e))}}(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const e=r.type.startsWith("int"),[,,t="256"]=tl.exec(r.type)??[];return function(e,{signed:t,size:n}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Iu({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:wu(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){const[,n]=t.split("bytes"),r=ku(e);if(!n){let t=e;return r%32!=0&&(t=Pu(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:yu(xu(wu(r,{size:32})),t)}}if(r!==Number.parseInt(n))throw new il({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Pu(e)}}(n,{type:r.type});if("string"===r.type)return function(e){const t=vu(e),n=Math.ceil(ku(t)/32),r=[];for(let s=0;s<n;s++)r.push(Pu(Eu(t,32*s,32*(s+1))));return{dynamic:!0,encoded:yu(Pu(wu(ku(t),{size:32})),...r)}}(n);throw new ll(r.type)}function rl(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:n,encoded:r}=e[a];t+=n?32:ku(r)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(wu(t+s,{size:32})),r.push(i),s+=ku(i)):n.push(i)}return yu(...n,...r)}function sl(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new cl({expectedLength:e.length,givenLength:t.length});const s=function({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(nl({checksumAddress:e,parameter:t[s],value:n[s]}));return r}({checksumAddress:r,parameters:e,values:t}),a=rl(s);return 0===a.length?"0x":a}function al(e,t){if(e.length!==t.length)throw new cl({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(al.encode(s,a))}return yu(...n)}!function(e){e.encode=function e(t,n,r=!1){if("address"===t){const e=n;return Lu(e),xu(e.toLowerCase(),r?32:0)}if("string"===t)return vu(n);if("bytes"===t)return n;if("bool"===t)return xu(bu(n),r?32:1);const s=t.match(tl);if(s){const[e,t,a="256"]=s,o=Number.parseInt(a)/8;return wu(n,{size:r?32:o,signed:"int"===t})}const a=t.match(el);if(a){const[e,t]=a;if(Number.parseInt(t)!==(n.length-2)/2)throw new il({expectedSize:Number.parseInt(t),value:n});return Pu(n,r?32:0)}const o=t.match(Xu);if(o&&Array.isArray(n)){const[t,r]=o,s=[];for(let a=0;a<n.length;a++)s.push(e(r,n[a],!0));return 0===s.length?"0x":yu(...s)}throw new ll(t)}}(al||(al={}));class ol extends Qc{constructor({expectedLength:e,givenLength:t,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class il extends Qc{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${ku(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class cl extends Qc{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class ul extends Qc{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class ll extends Qc{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function dl(e,...t){const{overloads:n}=e,r=n?function(e,t,n){const r=function(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=$u(t,{strict:!1}),o=e.filter((e=>a?"function"===e.type||"error"===e.type?Wu(e)===Eu(t,0,4):"event"===e.type&&Qu(e)===t:"name"in e&&e.name===t));if(0===o.length)throw new Ju({name:t});if(1===o.length)return{...o[0],...s?{hash:Qu(o[0])}:{}};let i;for(const u of o){if(!("inputs"in u))continue;if(!r||0===r.length){if(!u.inputs||0===u.inputs.length)return{...u,...s?{hash:Qu(u)}:{}};continue}if(!u.inputs)continue;if(0===u.inputs.length)continue;if(u.inputs.length!==r.length)continue;const e=r.every(((e,t)=>{const n="inputs"in u&&u.inputs[t];return!!n&&Vu(e,n)}));if(e){if(i&&"inputs"in i&&i.inputs){const e=Zu(u.inputs,i.inputs,r);if(e)throw new Yu({abiItem:u,type:e[0]},{abiItem:i,type:e[1]})}i=u}}const c=(()=>{if(i)return i;const[e,...t]=o;return{...e,overloads:t}})();if(!c)throw new Ju({name:t});return{...c,...s?{hash:Qu(c)}:{}}}(e,t,n);if("function"!==r.type)throw new Ju({name:t,type:"function"});return r}([e,...n],e.name,{args:t[0]}):e,s=Wu(r);const a=t.length>0?sl(r.inputs,t[0]):void 0;return a?yu(s,a):s}function fl(e,t={}){return Ku(e,t)}const hl="0x0000000000000000000000000000000000000000";async function pl(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:i,validation:c}=t,u=t.account?Sr(t.account):void 0;if(o&&!u)throw new xt("`account` is required when `traceAssetChanges` is true");const l=u?function(e,t){const{bytecode:n,args:r}=t;return yu(n,e.inputs?.length&&r?.length?sl(e.inputs,r):"0x")}(Ku("constructor(bytes, bytes)"),{bytecode:vo,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",dl(fl("function getBalance(address)"),[u.address])]}):void 0;const d=o?await Promise.all(t.calls.map((async t=>{if(!t.data&&!t.abi)return;const{accessList:n}=await zi(e,{account:u.address,...t,data:t.abi?Cr(t):t.data});return n.map((({address:e,storageKeys:t})=>t.length>0?e:null))}))).then((e=>e.flat().filter(Boolean))):[],f=a?.map((e=>e.address===u?.address?{...e,nonce:0}:e)),h=await zu(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:l}],stateOverrides:a},{calls:d.map(((e,t)=>({abi:[fl("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:e,from:hl,nonce:t}))),stateOverrides:[{address:hl,nonce:0}]}]:[],{calls:[...s,{}].map(((e,t)=>({...e,from:u?.address,nonce:t}))),stateOverrides:f},...o?[{calls:[{data:l}]},{calls:d.map(((e,t)=>({abi:[fl("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:e,from:hl,nonce:t}))),stateOverrides:[{address:hl,nonce:0}]},{calls:d.map(((e,t)=>({to:e,abi:[fl("function decimals() returns (uint256)")],functionName:"decimals",from:hl,nonce:t}))),stateOverrides:[{address:hl,nonce:0}]},{calls:d.map(((e,t)=>({to:e,abi:[fl("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:hl,nonce:t}))),stateOverrides:[{address:hl,nonce:0}]},{calls:d.map(((e,t)=>({to:e,abi:[fl("function symbol() returns (string)")],functionName:"symbol",from:hl,nonce:t}))),stateOverrides:[{address:hl,nonce:0}]}]:[]],traceTransfers:i,validation:c}),p=o?h[2]:h[0],[m,y,,b,g,w,v,x]=o?h:[],{calls:P,...E}=p,k=P.slice(0,-1)??[],B=[...m?.calls??[],...y?.calls??[]].map((e=>"success"===e.status?nn(e.data):null)),$=[...b?.calls??[],...g?.calls??[]].map((e=>"success"===e.status?nn(e.data):null)),I=(w?.calls??[]).map((e=>"success"===e.status?e.result:null)),A=(x?.calls??[]).map((e=>"success"===e.status?e.result:null)),O=(v?.calls??[]).map((e=>"success"===e.status?e.result:null)),N=[];for(const[S,T]of $.entries()){const e=B[S];if("bigint"!=typeof T)continue;if("bigint"!=typeof e)continue;const t=I[S-1],n=A[S-1],r=O[S-1],s=0===S?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:d[S-1],decimals:r||t?Number(t??1):void 0,symbol:n??void 0};N.some((e=>e.token.address===s.address))||N.push({token:s,value:{pre:e,post:T,diff:T-e}})}return{assetChanges:N,block:E,results:k}}class ml extends Tn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");gn(e.outputLen),gn(e.blockLen)}(e);const n=Sn(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return vn(this),this.iHash.update(e),this}digestInto(e){vn(this),wn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:a,outputLen:o}=this;return e.finished=r,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yl=(e,t,n)=>new ml(e,t).update(n).digest();yl.create=(e,t)=>new ml(e,t)
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */;const bl=BigInt(0),gl=BigInt(1),wl=BigInt(2),vl=BigInt(3),xl=BigInt(4),Pl=BigInt(5),El=BigInt(8);function kl(e,t){const n=e%t;return n>=bl?n:t+n}function Bl(e,t,n){if(t<bl)throw new Error("invalid exponent, negatives unsupported");if(n<=bl)throw new Error("invalid modulus");if(n===gl)return bl;let r=gl;for(;t>bl;)t&gl&&(r=r*e%n),e=e*e%n,t>>=gl;return r}function $l(e,t,n){let r=e;for(;t-- >bl;)r*=r,r%=n;return r}function Il(e,t){if(e===bl)throw new Error("invert: expected non-zero number");if(t<=bl)throw new Error("invert: expected positive modulus, got "+t);let n=kl(e,t),r=t,s=bl,a=gl;for(;n!==bl;){const e=r%n,t=s-a*(r/n);r=n,n=e,s=a,a=t}if(r!==gl)throw new Error("invert: does not exist");return kl(s,t)}function Al(e){if(e%xl===vl){const t=(e+gl)/xl;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%El===Pl){const t=(e-Pl)/El;return function(e,n){const r=e.mul(n,wl),s=e.pow(r,t),a=e.mul(n,s),o=e.mul(e.mul(a,wl),s),i=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}return function(e){const t=(e-gl)/wl;let n,r,s;for(n=e-gl,r=0;n%wl===bl;n/=wl,r++);for(s=wl;s<e&&Bl(s,t,e)!==e-gl;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+gl)/xl;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const a=(n+gl)/wl;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let i=r,c=e.pow(e.mul(e.ONE,s),n),u=e.pow(o,a),l=e.pow(o,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<i&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,gl<<BigInt(i-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),i=t}return u}}(e)}const Ol=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Nl(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Sl(e,t,n=!1,r={}){if(e<=bl)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=Nl(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const i=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:Gc(s),ZERO:bl,ONE:gl,create:t=>kl(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return bl<=t&&t<e},is0:e=>e===bl,isOdd:e=>(e&gl)===gl,neg:t=>kl(-t,e),eql:(e,t)=>e===t,sqr:t=>kl(t*t,e),add:(t,n)=>kl(t+n,e),sub:(t,n)=>kl(t-n,e),mul:(t,n)=>kl(t*n,e),pow:(e,t)=>function(e,t,n){if(n<bl)throw new Error("invalid exponent, negatives unsupported");if(n===bl)return e.ONE;if(n===gl)return t;let r=e.ONE,s=t;for(;n>bl;)n&gl&&(r=e.mul(r,s)),s=e.sqr(s),n>>=gl;return r}(i,e,t),div:(t,n)=>kl(t*Il(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Il(t,e),sqrt:r.sqrt||(t=>(o||(o=Al(e)),o(i,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,s)=>e.is0(r)?t:(n[s]=t,e.mul(t,r))),e.ONE),s=e.inv(r);return t.reduceRight(((t,r,s)=>e.is0(r)?t:(n[s]=e.mul(t,n[s]),e.mul(t,r))),s),n}(i,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?zc(e,a):Fc(e,a),fromBytes:e=>{if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return n?Cc(e):Tc(e)}});return Object.freeze(i)}function Tl(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Cl(e){const t=Tl(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Fl=BigInt(0),zl=BigInt(1);function Ml(e,t){const n=t.negate();return e?n:t}function Rl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function jl(e,t){Rl(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const ql=new WeakMap,Ll=new WeakMap;function Ul(e){return Ll.get(e)||1}function Gl(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=Uc(BigInt(n.length)),o=a>12?a-3:a>4?a-2:a?2:1,i=(1<<o)-1,c=new Array(i+1).fill(s);let u=s;for(let l=Math.floor((t.BITS-1)/o)*o;l>=0;l-=o){c.fill(s);for(let t=0;t<r.length;t++){const e=r[t],s=Number(e>>BigInt(l)&BigInt(i));c[s]=c[s].add(n[t])}let e=s;for(let t=c.length-1,n=s;t>0;t--)n=n.add(c[t]),e=e.add(n);if(u=u.add(e),0!==l)for(let t=0;t<o;t++)u=u.double()}return u}function Dl(e){return Zc(e.Fp,Ol.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Zc(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nl(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _l(e){void 0!==e.lowS&&wc("lowS",e.lowS),void 0!==e.prehash&&wc("prehash",e.prehash)}const{bytesToNumberBE:Hl,hexToBytes:Vl}=Wc;class Zl extends Error{constructor(e=""){super(e)}}const Kl={Err:Zl,_tlv:{encode:(e,t)=>{const{Err:n}=Kl;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Pc(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Pc(s.length/2|128):"";return Pc(e)+a+s+t},decode(e,t){const{Err:n}=Kl;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++];let a=0;if(!!(128&s)){const e=127&s;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)a=a<<8|t;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=s;const o=t.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=Kl;if(e<Wl)throw new t("integer: negative integers are not allowed");let n=Pc(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Kl;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Hl(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Kl,s="string"==typeof e?Vl(e):e;gc(s);const{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,a),{v:u,l:l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Kl,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},Wl=BigInt(0),Ql=BigInt(1);BigInt(2);const Yl=BigInt(3);function Jl(e){const t=function(e){const t=Dl(e);Zc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=Sl(t.n,t.nBitLength),s=t.toBytes||((e,t,r)=>{const s=t.toAffine();return Rc(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:s}=t,a=n.sqr(e),o=n.mul(a,e);return n.add(n.add(o,n.mul(e,r)),s)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(bc(e)&&(e=xc(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"==typeof e?e:Tc(Mc("private key",e,r))}catch(i){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return s&&(o=kl(o,a)),Lc("private key",o,Ql,a),o}function c(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}const u=Kc(((e,t)=>{const{px:r,py:s,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:s};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(a));const i=n.mul(r,t),c=n.mul(s,t),u=n.mul(a,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:i,y:c}})),l=Kc((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:s}=e.toAffine();if(!n.isValid(r)||!n.isValid(s))throw new Error("bad point: x or y not FE");const a=n.sqr(s),i=o(r);if(!n.eql(a,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const s=e=>n.eql(e,n.ZERO);return s(t)&&s(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(a(Mc("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(i(e))}static msm(e,t){return Gl(d,r,e,t)}_setWindowSize(e){h.setWindowSize(this,e)}assertValidity(){l(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){c(e);const{px:t,py:r,pz:s}=this,{px:a,py:o,pz:i}=e,u=n.eql(n.mul(t,i),n.mul(a,s)),l=n.eql(n.mul(r,i),n.mul(o,s));return u&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,s=n.mul(r,Yl),{px:a,py:o,pz:i}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,f=n.mul(a,a),h=n.mul(o,o),p=n.mul(i,i),m=n.mul(a,o);return m=n.add(m,m),l=n.mul(a,i),l=n.add(l,l),c=n.mul(e,l),u=n.mul(s,p),u=n.add(c,u),c=n.sub(h,u),u=n.add(h,u),u=n.mul(c,u),c=n.mul(m,c),l=n.mul(s,l),p=n.mul(e,p),m=n.sub(f,p),m=n.mul(e,m),m=n.add(m,l),l=n.add(f,f),f=n.add(l,f),f=n.add(f,p),f=n.mul(f,m),u=n.add(u,f),p=n.mul(o,i),p=n.add(p,p),f=n.mul(p,m),c=n.sub(c,f),l=n.mul(p,h),l=n.add(l,l),l=n.add(l,l),new d(c,u,l)}add(e){c(e);const{px:r,py:s,pz:a}=this,{px:o,py:i,pz:u}=e;let l=n.ZERO,f=n.ZERO,h=n.ZERO;const p=t.a,m=n.mul(t.b,Yl);let y=n.mul(r,o),b=n.mul(s,i),g=n.mul(a,u),w=n.add(r,s),v=n.add(o,i);w=n.mul(w,v),v=n.add(y,b),w=n.sub(w,v),v=n.add(r,a);let x=n.add(o,u);return v=n.mul(v,x),x=n.add(y,g),v=n.sub(v,x),x=n.add(s,a),l=n.add(i,u),x=n.mul(x,l),l=n.add(b,g),x=n.sub(x,l),h=n.mul(p,v),l=n.mul(m,g),h=n.add(l,h),l=n.sub(b,h),h=n.add(b,h),f=n.mul(l,h),b=n.add(y,y),b=n.add(b,y),g=n.mul(p,g),v=n.mul(m,v),b=n.add(b,g),g=n.sub(y,g),g=n.mul(p,g),v=n.add(v,g),y=n.mul(b,v),f=n.add(f,y),y=n.mul(x,v),l=n.mul(w,l),l=n.sub(l,y),y=n.mul(w,b),h=n.mul(x,h),h=n.add(h,y),new d(l,f,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return h.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:s}=t;Lc("scalar",e,Wl,s);const a=d.ZERO;if(e===Wl)return a;if(this.is0()||e===Ql)return this;if(!r||h.hasPrecomputes(this))return h.wNAFCachedUnsafe(this,e,d.normalizeZ);let{k1neg:o,k1:i,k2neg:c,k2:u}=r.splitScalar(e),l=a,f=a,p=this;for(;i>Wl||u>Wl;)i&Ql&&(l=l.add(p)),u&Ql&&(f=f.add(p)),p=p.double(),i>>=Ql,u>>=Ql;return o&&(l=l.negate()),c&&(f=f.negate()),f=new d(n.mul(f.px,r.beta),f.py,f.pz),l.add(f)}multiply(e){const{endo:r,n:s}=t;let a,o;if(Lc("scalar",e,Ql,s),r){const{k1neg:t,k1:s,k2neg:i,k2:c}=r.splitScalar(e);let{p:u,f:l}=this.wNAF(s),{p:f,f:p}=this.wNAF(c);u=h.constTimeNegate(t,u),f=h.constTimeNegate(i,f),f=new d(n.mul(f.px,r.beta),f.py,f.pz),a=u.add(f),o=l.add(p)}else{const{p:t,f:n}=this.wNAF(e);a=t,o=n}return d.normalizeZ([a,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,s=(e,t)=>t!==Wl&&t!==Ql&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=s(this,t).add(s(e,n));return a.is0()?void 0:a}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Ql)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Ql?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return wc("isCompressed",e),this.assertValidity(),s(d,this,e)}toHex(e=!0){return wc("isCompressed",e),xc(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,h=(p=d,m=t.endo?Math.ceil(f/2):f,{constTimeNegate:Ml,hasPrecomputes:e=>1!==Ul(e),unsafeLadder(e,t,n=p.ZERO){let r=e;for(;t>Fl;)t&zl&&(n=n.add(r)),r=r.double(),t>>=zl;return n},precomputeWindow(e,t){const{windows:n,windowSize:r}=jl(t,m),s=[];let a=e,o=a;for(let i=0;i<n;i++){o=a,s.push(o);for(let e=1;e<r;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(e,t,n){const{windows:r,windowSize:s}=jl(e,m);let a=p.ZERO,o=p.BASE;const i=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let l=0;l<r;l++){const e=l*s;let r=Number(n&i);n>>=u,r>s&&(r-=c,n+=zl);const d=e,f=e+Math.abs(r)-1,h=l%2!=0,p=r<0;0===r?o=o.add(Ml(h,t[d])):a=a.add(Ml(p,t[f]))}return{p:a,f:o}},wNAFUnsafe(e,t,n,r=p.ZERO){const{windows:s,windowSize:a}=jl(e,m),o=BigInt(2**e-1),i=2**e,c=BigInt(e);for(let u=0;u<s;u++){const e=u*a;if(n===Fl)break;let s=Number(n&o);if(n>>=c,s>a&&(s-=i,n+=zl),0===s)continue;let l=t[e+Math.abs(s)-1];s<0&&(l=l.negate()),r=r.add(l)}return r},getPrecomputes(e,t,n){let r=ql.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&ql.set(t,n(r))),r},wNAFCached(e,t,n){const r=Ul(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const s=Ul(e);return 1===s?this.unsafeLadder(e,t,r):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),t,r)},setWindowSize(e,t){Rl(t,m),Ll.set(e,t),ql.delete(e)}});var p,m;return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:i,weierstrassEquation:o,isWithinCurveOrder:function(e){return qc(e,Ql,t.n)}}}function Xl(e){const t=function(e){const t=Dl(e);return Zc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,s=n.BYTES+1,a=2*n.BYTES+1;function o(e){return kl(e,r)}function i(e){return Il(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Jl({...t,toBytes(e,t,r){const s=t.toAffine(),a=n.toBytes(s.x),o=Rc;return wc("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==s||2!==r&&3!==r){if(t===a&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+s+", or uncompressed "+a+", got "+t)}{const e=Tc(o);if(!qc(e,Ql,n.ORDER))throw new Error("Point is not on curve");const t=l(e);let s;try{s=n.sqrt(t)}catch(i){const e=i instanceof Error?": "+i.message:"";throw new Error("Point is not on curve"+e)}return!(1&~r)!==((s&Ql)===Ql)&&(s=n.neg(s)),{x:e,y:s}}}}),f=e=>xc(Fc(e,t.nByteLength));function h(e){return e>r>>Ql}const p=(e,t,n)=>Tc(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Mc("compactSignature",e,2*n),new m(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Kl.toSig(Mc("DER",e));return new m(t,n)}assertValidity(){Lc("r",this.r,Ql,r),Lc("s",this.s,Ql,r)}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:s,recovery:a}=this,u=w(Mc("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const l=2===a||3===a?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&a?"03":"02",h=c.fromHex(d+f(l)),p=i(l),m=o(-u*p),y=o(s*p),b=c.BASE.multiplyAndAddUnsafe(h,m,y);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Sc(this.toDERHex())}toDERHex(){return Kl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Sc(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Cl(t.n);return function(e,t,n=!1){const r=e.length,s=Tl(t),a=Cl(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=kl(n?Cc(e):Tc(e),t-gl)+gl;return n?zc(o,s):Fc(o,s)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=bc(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===s||r===a:n?r===2*s||r===2*a:e instanceof c}const g=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const n=Tc(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return o(g(e))},v=Gc(t.nBitLength);function x(e){return Lc("num < 2^"+t.nBitLength,e,Wl,v),Fc(e,t.nByteLength)}function P(e,r,s=E){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:l}=t;let{lowS:f,prehash:p,extraEntropy:y}=s;null==f&&(f=!0),e=Mc("msgHash",e),_l(s),p&&(e=Mc("prehashed msgHash",a(e)));const b=w(e),v=u(r),P=[x(v),x(b)];if(null!=y&&!1!==y){const e=!0===y?l(n.BYTES):y;P.push(Mc("extraEntropy",e))}const k=Rc(...P),B=b;return{seed:k,k2sig:function(e){const t=g(e);if(!d(t))return;const n=i(t),r=c.BASE.multiply(t).toAffine(),s=o(r.x);if(s===Wl)return;const a=o(n*o(B+s*v));if(a===Wl)return;let u=(r.x===s?0:2)|Number(r.y&Ql),l=a;return f&&h(a)&&(l=function(e){return h(e)?o(-e):e}(a),u^=1),new m(s,l,u)}}}const E={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n,r=E){const{seed:s,k2sig:a}=P(e,n,r),o=t;return Hc(o.hash.outputLen,o.nByteLength,o.hmac)(s,a)},verify:function(e,n,r,s=k){const a=e;n=Mc("msgHash",n),r=Mc("publicKey",r);const{lowS:u,prehash:l,format:d}=s;if(_l(s),"strict"in s)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const f="string"==typeof a||bc(a),h=!f&&!d&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!f&&!h)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,y;try{if(h&&(p=new m(a.r,a.s)),f){try{"compact"!==d&&(p=m.fromDER(a))}catch($){if(!($ instanceof Kl.Err))throw $}p||"der"===d||(p=m.fromCompact(a))}y=c.fromHex(r)}catch(I){return!1}if(!p)return!1;if(u&&p.hasHighS())return!1;l&&(n=t.hash(n));const{r:b,s:g}=p,v=w(n),x=i(g),P=o(v*x),E=o(b*x),B=c.BASE.multiplyAndAddUnsafe(y,P,E)?.toAffine();return!!B&&o(B.x)===b},ProjectivePoint:c,Signature:m,utils:y}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ed(e){return{hash:e,hmac:(t,...n)=>yl(e,t,function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];wn(n),t+=n.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const t=e[r];n.set(t,s),s+=t.length}return n}(...n)),randomBytes:Fn}}BigInt(4);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const td=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rd=BigInt(1),sd=BigInt(2),ad=(e,t)=>(e+t/sd)/t;const od=Sl(td,void 0,void 0,{sqrt:function(e){const t=td,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=$l(l,n,t)*l%t,f=$l(d,n,t)*l%t,h=$l(f,sd,t)*u%t,p=$l(h,s,t)*h%t,m=$l(p,a,t)*p%t,y=$l(m,i,t)*m%t,b=$l(y,c,t)*y%t,g=$l(b,i,t)*m%t,w=$l(g,n,t)*l%t,v=$l(w,o,t)*p%t,x=$l(v,r,t)*u%t,P=$l(x,sd,t);if(!od.eql(od.sqr(P),e))throw new Error("Cannot find square root");return P}}),id=function(e,t){const n=t=>Xl({...e,...ed(t)});return{...n(t),create:n}}({a:BigInt(0),b:BigInt(7),Fp:od,n:nd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=nd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-rd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),i=ad(a*e,t),c=ad(-r*e,t);let u=kl(e-i*n-c*s,t),l=kl(-i*r-c*a,t);const d=u>o,f=l>o;if(d&&(u=t-u),f&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},Ua);BigInt(0),id.ProjectivePoint;const cd=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:id},Symbol.toStringTag,{value:"Module"}));async function ud(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:o,universalSignatureVerifierAddress:i=e.chain?.contracts?.universalSignatureVerifier?.address,...c}=t,u=yt(o)?o:"object"==typeof o&&"r"in o&&"s"in o?function({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(0===s||1===s)return s;if(r&&(27n===r||28n===r||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new id.Signature(nn(e),nn(t)).toCompactHex()}${0===a?"1b":"1c"}`;return"hex"===n?o:yn(o)}(o):cn(o),l=await(async()=>r||s?function(e){return mr(e,-32)===cc}(u)?u:function(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=lr([gr([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),cc]);return"hex"===s?a:yn(a)}({address:r,data:s,signature:u}):u)();try{const t=i?{to:i,data:Cr({abi:go,functionName:"isValidSig",args:[n,a,l]}),...c}:{data:Io({abi:go,args:[n,a,l],bytecode:"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"}),...c},{data:r}=await ht(e,Co,"call")(t);return function(e,t={}){let n=e;if(t.size&&(tn(n,{size:t.size}),n=en(n)),"0x00"===en(n))return!1;if("0x01"===en(n))return!0;throw new Jt(n)}(r??"0x0")}catch(d){try{if(to(ar(n),await Zs({hash:a,signature:o})))return!0}catch{}if(d instanceof ps)return!1;throw d}}function ld(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){let i;return(void 0!==a?a:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?jo(Yr(["watchBlockNumber",e.uid,t,n,o]),{onBlockNumber:r,onError:s},(r=>Lo((async()=>{try{const t=await ht(e,_o,"getBlockNumber")({cacheTime:0});if(i){if(t===i)return;if(t-i>1&&n)for(let e=i+1n;e<t;e++)r.onBlockNumber(e,i),i=e}(!i||t>i)&&(r.onBlockNumber(t,i),i=t)}catch(t){r.onError?.(t)}}),{emitOnBegin:t,interval:o}))):jo(Yr(["watchBlockNumber",e.uid,t,n]),{onBlockNumber:r,onError:s},(t=>{let n=!0,r=()=>n=!1;return(async()=>{try{const s=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await s.subscribe({params:["newHeads"],onData(e){if(!n)return;const r=nn(e.result?.number);t.onBlockNumber(r,i),i=r},onError(e){t.onError?.(e)}});r=a,n||r()}catch(a){s?.(a)}})(),()=>r()}))}const dd=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,fd=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function hd(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:i,time:c=new Date,...u}=t,l=function(e){const{scheme:t,statement:n,...r}=e.match(dd)?.groups??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:i,requestId:c,...u}=e.match(fd)?.groups??{},l=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}(s);if(!l.address)return!1;const d=function(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n)return!1;if(s&&r.nonce!==s)return!1;if(a&&r.scheme!==a)return!1;if(r.expirationTime&&o>=r.expirationTime)return!1;if(r.notBefore&&o<r.notBefore)return!1;try{if(!r.address)return!1;if(t&&!to(r.address,t))return!1}catch{return!1}return!0}({address:n,domain:r,message:l,nonce:a,scheme:o,time:c});if(!d)return!1;const f=ic(s);return ud(e,{address:l.address,hash:f,signature:i,...u})}function pd(e){return{call:t=>Co(e,t),createAccessList:t=>zi(e,t),createBlockFilter:()=>async function(e){const t=Or(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(e),createContractEventFilter:t=>Nr(e,t),createEventFilter:t=>Mi(e,t),createPendingTransactionFilter:()=>Ri(e),estimateContractGas:t=>async function(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...i}=t,c=Cr({abi:n,args:s,functionName:a});try{return await ht(e,eo,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...i})}catch(u){const e=i.account?Sr(i.account):void 0;throw Hs(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:e?.address})}}(e,t),estimateGas:t=>eo(e,t),getBalance:t=>Xa(e,t),getBlobBaseFee:()=>async function(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}(e),getBlock:t=>Aa(e,t),getBlockNumber:t=>_o(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=void 0!==n?un(n):void 0;let a;return a=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:Boolean(s)}),rn(a)}(e,t),getBytecode:t=>ji(e,t),getChainId:()=>Wa(e),getCode:t=>ji(e,t),getContractEvents:t=>co(e,t),getEip712Domain:t=>async function(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[t,a,o,i,c,u,l]=await ht(e,Fo,"readContract")({abi:ei,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:o,chainId:Number(i),verifyingContract:c,salt:u},extensions:l,fields:t}}catch(a){const e=a;if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new Xo({address:n});throw e}}(e,t),getEnsAddress:t=>async function(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Ao({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const o=Cr({abi:bo,functionName:"addr",...null!=r?{args:[bi(s),BigInt(r)]}:{args:[bi(s)]}}),i={address:c,abi:po,functionName:"resolve",args:[an(vi(s)),o],blockNumber:t,blockTag:n},u=ht(e,Fo,"readContract"),l=a?await u({...i,args:[...i.args,a]}):await u(i);if("0x"===l[0])return null;const d=lo({abi:bo,args:null!=r?[bi(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return"0x"===d||"0x00"===en(d)?null:d}catch(u){if(o)throw u;if(mi(u,"resolve"))return null;throw u}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await ht(e,Fi,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await Ci(e,{record:c,gatewayUrls:r})}catch{return null}}(e,t),getEnsName:t=>async function(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:a,universalResolverAddress:o}){let i=o;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Ao({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const a={address:i,abi:mo,functionName:"reverse",args:[an(vi(c))],blockNumber:n,blockTag:r},o=ht(e,Fo,"readContract"),[u,l]=s?await o({...a,args:[...a.args,s]}):await o(a);return t.toLowerCase()!==l.toLowerCase()?null:u}catch(u){if(a)throw u;if(mi(u,"reverse"))return null;throw u}}(e,t),getEnsResolver:t=>async function(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ao({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await ht(e,Fo,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[an(vi(r))],blockNumber:t,blockTag:n});return o}(e,t),getEnsText:t=>Fi(e,t),getFeeHistory:t=>qi(e,t),estimateFeesPerGas:t=>async function(e,t){return Sa(e,t)}(e,t),getFilterChanges:e=>Ho(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>oo(e)));return t.abi?ao({abi:t.abi,logs:r,strict:n}):r}(0,e),getGasPrice:()=>Oa(e),getLogs:t=>io(e,t),getProof:t=>dc(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return Na(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=void 0!==n?un(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}(e,t),getTransaction:t=>fc(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([ht(e,_o,"getBlockNumber")({}),t?ht(e,fc,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}(e,t),getTransactionCount:t=>Ta(e,t),getTransactionReceipt:t=>hc(e,t),multicall:t=>async function(e,t){const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,multicallAddress:o,stateOverride:i}=t,c=t.contracts,u=r??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024);let l=o;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Ao({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let f=0,h=0;for(let b=0;b<c.length;b++){const{abi:e,address:t,args:r,functionName:s}=c[b];try{const n=Cr({abi:e,args:r,functionName:s});h+=(n.length-2)/2,u>0&&h>u&&d[f].length>0&&(f++,h=(n.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:n,target:t}]}catch(y){const a=Hs(y,{abi:e,address:t,args:r,docsPath:"/docs/contract/multicall",functionName:s});if(!n)throw a;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:t}]}}const p=await Promise.allSettled(d.map((t=>ht(e,Fo,"readContract")({abi:fo,address:l,args:[t],blockNumber:s,blockTag:a,functionName:"aggregate3",stateOverride:i})))),m=[];for(let b=0;b<p.length;b++){const e=p[b];if("rejected"===e.status){if(!n)throw e.reason;for(let t=0;t<d[b].length;t++)m.push({status:"failure",error:e.reason,result:void 0});continue}const t=e.value;for(let r=0;r<t.length;r++){const{returnData:e,success:s}=t[r],{callData:a}=d[b][r],{abi:o,address:i,functionName:u,args:l}=c[m.length];try{if("0x"===a)throw new $t;if(!s)throw new ws({data:e});const t=lo({abi:o,args:l,data:e,functionName:u});m.push(n?{result:t,status:"success"}:t)}catch(y){const e=Hs(y,{abi:o,address:i,args:l,docsPath:"/docs/contract/multicall",functionName:u});if(!n)throw e;m.push({error:e,result:void 0,status:"failure"})}}}if(m.length!==c.length)throw new xt("multicall results mismatch");return m}(e,t),prepareTransactionRequest:t=>Ja(e,t),readContract:t=>Fo(e,t),sendRawTransaction:t=>Qo(e,t),simulate:t=>zu(e,t),simulateBlocks:t=>zu(e,t),simulateCalls:t=>pl(e,t),simulateContract:t=>async function(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=i.account?Sr(i.account):e.account,u=Cr({abi:n,args:s,functionName:o});try{const{data:l}=await ht(e,Co,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...i,account:c});return{result:lo({abi:n,args:s,functionName:o,data:l||"0x"}),request:{abi:n.filter((e=>"name"in e&&e.name===t.functionName)),address:r,args:s,dataSuffix:a,functionName:o,...i,account:c}}}catch(l){throw Hs(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}(e,t),verifyMessage:t=>async function(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){return ud(e,{address:t,factory:r,factoryData:s,hash:ic(n),signature:a,...o})}(e,t),verifySiweMessage:t=>hd(e,t),verifyTypedData:t=>async function(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:i,types:c,domain:u,...l}=t;return ud(e,{address:n,factory:r,factoryData:s,hash:Qi({message:o,primaryType:i,types:c,domain:u}),signature:a,...l})}(e,t),uninstallFilter:e=>Vo(0,e),waitForTransactionReceipt:t=>async function(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:a=6,retryDelay:o=({count:e})=>200*(1<<e),timeout:i=18e4}){const c=Yr(["waitForTransactionReceipt",e.uid,n]);let u,l,d,f=!1;const{promise:h,resolve:p,reject:m}=No(),y=i?setTimeout((()=>m(new hs({hash:n}))),i):void 0,b=jo(c,{onReplaced:r,resolve:p,reject:m},(r=>{const i=ht(e,ld,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(s){const c=e=>{clearTimeout(y),i(),e(),b()};let h=s;if(!f)try{if(d){if(t>1&&(!d.blockNumber||h-d.blockNumber+1n<t))return;return void c((()=>r.resolve(d)))}if(u||(f=!0,await oi((async()=>{u=await ht(e,fc,"getTransaction")({hash:n}),u.blockNumber&&(h=u.blockNumber)}),{delay:o,retryCount:a}),f=!1),d=await ht(e,hc,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||h-d.blockNumber+1n<t))return;c((()=>r.resolve(d)))}catch(p){if(p instanceof ds||p instanceof fs){if(!u)return void(f=!1);try{l=u,f=!0;const n=await oi((()=>ht(e,Aa,"getBlock")({blockNumber:h,includeTransactions:!0})),{delay:o,retryCount:a,shouldRetry:({error:e})=>e instanceof ka});f=!1;const s=n.transactions.find((({from:e,nonce:t})=>e===l.from&&t===l.nonce));if(!s)return;if(d=await ht(e,hc,"getTransactionReceipt")({hash:s.hash}),t>1&&(!d.blockNumber||h-d.blockNumber+1n<t))return;let i="replaced";s.to===l.to&&s.value===l.value&&s.input===l.input?i="repriced":s.from===s.to&&0n===s.value&&(i="cancelled"),c((()=>{r.onReplaced?.({reason:i,replacedTransaction:l,transaction:s,transactionReceipt:d}),r.resolve(d)}))}catch(m){c((()=>r.reject(m)))}}else c((()=>r.reject(p)))}}})}));return h}(e,t),watchBlocks:t=>function(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=void 0!==i?i:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),l=o??!1;let d;return u?jo(Yr(["watchBlocks",e.uid,t,n,r,l,c]),{onBlock:s,onError:a},(s=>Lo((async()=>{try{const r=await ht(e,Aa,"getBlock")({blockTag:t,includeTransactions:l});if(r.number&&d?.number){if(r.number===d.number)return;if(r.number-d.number>1&&n)for(let t=d?.number+1n;t<r.number;t++){const n=await ht(e,Aa,"getBlock")({blockNumber:t,includeTransactions:l});s.onBlock(n,d),d=n}}(!d?.number||"pending"===t&&!r?.number||r.number&&r.number>d.number)&&(s.onBlock(r,d),d=r)}catch(r){s.onError?.(r)}}),{emitOnBegin:r,interval:c}))):(()=>{let n=!0,o=!0,i=()=>n=!1;return(async()=>{try{r&&ht(e,Aa,"getBlock")({blockTag:t,includeTransactions:l}).then((e=>{n&&o&&(s(e,void 0),o=!1)}));const c=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:u}=await c.subscribe({params:["newHeads"],async onData(t){if(!n)return;const r=await ht(e,Aa,"getBlock")({blockNumber:t.blockNumber,includeTransactions:l}).catch((()=>{}));n&&(s(r,d),o=!1,d=r)},onError(e){a?.(e)}});i=u,n||i()}catch(c){a?.(c)}})(),()=>i()})()}(e,t),watchBlockNumber:t=>ld(e,t),watchContractEvent:t=>function(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:f}=t;return(void 0!==l?l:"bigint"==typeof i||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(()=>{const t=f??!1;return jo(Yr(["watchContractEvent",r,s,a,e.uid,o,d,t,i]),{onLogs:u,onError:c},(c=>{let u,l;void 0!==i&&(u=i-1n);let f=!1;const h=Lo((async()=>{if(f)try{let i;if(l)i=await ht(e,Ho,"getFilterChanges")({filter:l});else{const a=await ht(e,_o,"getBlockNumber")({});i=u&&u<a?await ht(e,co,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:u+1n,toBlock:a,strict:t}):[],u=a}if(0===i.length)return;if(a)c.onLogs(i);else for(const e of i)c.onLogs([e])}catch(d){l&&d instanceof Ns&&(f=!1),c.onError?.(d)}else{try{l=await ht(e,Nr,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:t,fromBlock:i})}catch{}f=!0}}),{emitOnBegin:!0,interval:d});return async()=>{l&&await ht(e,Vo,"uninstallFilter")({filter:l}),h()}}))})():(()=>{const t=f??!1,i=Yr(["watchContractEvent",r,s,a,e.uid,o,d,t]);let l=!0,h=()=>l=!1;return jo(i,{onLogs:u,onError:c},(t=>((async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),i=o?Ir({abi:n,eventName:o,args:s}):[],{unsubscribe:c}=await a.subscribe({params:["logs",{address:r,topics:i}],onData(e){if(!l)return;const r=e.result;try{const{eventName:e,args:s}=ro({abi:n,data:r.data,topics:r.topics,strict:f}),a=oo(r,{args:s,eventName:e});t.onLogs([a])}catch(s){let e,n;if(s instanceof jt||s instanceof qt){if(f)return;e=s.abiItem.name,n=s.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const a=oo(r,{args:n?[]:{},eventName:e});t.onLogs([a])}},onError(e){t.onError?.(e)}});h=c,l||h()}catch(a){c?.(a)}})(),()=>h())))})()}(e,t),watchEvent:t=>function(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const f=void 0!==u?u:"bigint"==typeof o||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),h=d??!1;return f?jo(Yr(["watchEvent",t,n,r,e.uid,s,l,o]),{onLogs:c,onError:i},(i=>{let c,u;void 0!==o&&(c=o-1n);let d=!1;const f=Lo((async()=>{if(d)try{let o;if(u)o=await ht(e,Ho,"getFilterChanges")({filter:u});else{const r=await ht(e,_o,"getBlockNumber")({});o=c&&c!==r?await ht(e,io,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:c+1n,toBlock:r}):[],c=r}if(0===o.length)return;if(r)i.onLogs(o);else for(const e of o)i.onLogs([e])}catch(l){u&&l instanceof Ns&&(d=!1),i.onError?.(l)}else{try{u=await ht(e,Mi,"createEventFilter")({address:t,args:n,event:s,events:a,strict:h,fromBlock:o})}catch{}d=!0}}),{emitOnBegin:!0,interval:l});return async()=>{u&&await ht(e,Vo,"uninstallFilter")({filter:u}),f()}})):(()=>{let r=!0,o=()=>r=!1;return(async()=>{try{const u=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),l=a??(s?[s]:void 0);let f=[];if(l){const e=l.flatMap((e=>Ir({abi:[e],eventName:e.name,args:n})));f=[e],s&&(f=f[0])}const{unsubscribe:p}=await u.subscribe({params:["logs",{address:t,topics:f}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=ro({abi:l??[],data:t.data,topics:t.topics,strict:h}),r=oo(t,{args:n,eventName:e});c([r])}catch(n){let e,r;if(n instanceof jt||n instanceof qt){if(d)return;e=n.abiItem.name,r=n.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=oo(t,{args:r?[]:{},eventName:e});c([s])}},onError(e){i?.(e)}});o=p,r||o()}catch(u){i?.(u)}})(),()=>o()})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(void 0!==s?s:"webSocket"!==e.transport.type)?jo(Yr(["watchPendingTransactions",e.uid,t,a]),{onTransactions:r,onError:n},(n=>{let r;const s=Lo((async()=>{try{if(!r)try{return void(r=await ht(e,Ri,"createPendingTransactionFilter")({}))}catch(a){throw s(),a}const o=await ht(e,Ho,"getFilterChanges")({filter:r});if(0===o.length)return;if(t)n.onTransactions(o);else for(const e of o)n.onTransactions([e])}catch(a){n.onError?.(a)}}),{emitOnBegin:!0,interval:a});return async()=>{r&&await ht(e,Vo,"uninstallFilter")({filter:r}),s()}})):(()=>{let t=!0,s=()=>t=!1;return(async()=>{try{const{unsubscribe:a}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});s=a,t||s()}catch(a){n?.(a)}})(),()=>s()})()}(e,t)}}function md(e){const{key:t="public",name:n="Public Client"}=e;return si({...e,key:t,name:n,type:"publicClient"}).extend(pd)}async function yd(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Zo({docsPath:"/docs/actions/wallet/signTypedData"});const o=Sr(n),i={EIP712Domain:rc({domain:r}),...t.types};if(nc({domain:r,message:s,primaryType:a,types:i}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:a,types:i});const c=function(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(e,t)=>{const n={...t};for(const r of e){const{name:e,type:t}=r;"address"===t&&(n[e]=n[e].toLowerCase())}return n},o=s.EIP712Domain&&t?a(s.EIP712Domain,t):{},i=(()=>{if("EIP712Domain"!==r)return a(s[r],n)})();return Yr({domain:o,message:i,primaryType:r,types:s})}({domain:r,message:s,primaryType:a,types:i});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}function bd(e){return{addChain:t=>async function(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:un(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map((({url:e})=>e)):void 0}]},{dedupe:!0,retryCount:0})}(e,t),deployContract:t=>function(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=Io({abi:n,args:r,bytecode:s});return Jo(e,{...a,...a.authorizationList?{to:null}:{},data:o})}(e,t),getAddresses:()=>async function(e){return"local"===e.account?.type?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map((e=>sr(e)))}(e),getChainId:()=>Wa(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}(e),prepareTransactionRequest:t=>Ja(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map((e=>ar(e)))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}(e,t),sendRawTransaction:t=>Qo(e,t),sendTransaction:t=>Jo(e,t),signMessage:t=>async function(e,{account:t=e.account,message:n}){if(!t)throw new Zo({docsPath:"/docs/actions/wallet/signMessage"});const r=Sr(t);if(r.signMessage)return r.signMessage({message:n});const s="string"==typeof n?dn(n):n.raw instanceof Uint8Array?an(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}(e,t),signTransaction:t=>async function(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Zo({docsPath:"/docs/actions/wallet/signTransaction"});const a=Sr(n);va({account:a,...t});const o=await ht(e,Wa,"getChainId")({});null!==r&&Wo({currentChainId:o,chain:r});const i=r?.formatters||e.chain?.formatters,c=i?.transactionRequest?.format||ma;return a.signTransaction?a.signTransaction({...s,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:un(o),from:a.address}]},{retryCount:0})}(e,t),signTypedData:t=>yd(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:un(t)}]},{retryCount:0})}(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}(e,t),writeContract:t=>async function(e,t){const{abi:n,account:r=e.account,address:s,args:a,dataSuffix:o,functionName:i,...c}=t;if(void 0===r)throw new Zo({docsPath:"/docs/contract/writeContract"});const u=r?Sr(r):null,l=Cr({abi:n,args:a,functionName:i});try{return await ht(e,Jo,"sendTransaction")({data:`${l}${o?o.replace("0x",""):""}`,to:s,account:u,...c})}catch(d){throw Hs(d,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:i,sender:u?.address})}}(e,t)}}function gd(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return si({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(bd)}var wd={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var i=new s(r,a||e,o),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],i]:e._events[c].push(i):(e._events[c]=i,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function i(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),i.prototype.eventNames=function(){var e,r,s=[];if(0===this._eventsCount)return s;for(r in e=this._events)t.call(e,r)&&s.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},i.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,a=r.length,o=new Array(a);s<a;s++)o[s]=r[s].fn;return o},i.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,t,r,s,a,o){var i=n?n+e:e;if(!this._events[i])return!1;var c,u,l=this._events[i],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,s),!0;case 5:return l.fn.call(l.context,t,r,s,a),!0;case 6:return l.fn.call(l.context,t,r,s,a,o),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,s);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},i.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},i.prototype.removeListener=function(e,t,r,s){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var i=this._events[a];if(i.fn)i.fn!==t||s&&!i.once||r&&i.context!==r||o(this,a);else{for(var c=0,u=[],l=i.length;c<l;c++)(i[c].fn!==t||s&&!i[c].once||r&&i[c].context!==r)&&u.push(i[c]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i}(wd);const vd=t(wd.exports);export{vd as E,Z as Q,Y as _,gu as a,ts as b,md as c,Vi as d,gd as e,lu as f,ui as g,pi as h,lc as i,d as j,ns as k,W as l,dt as p,Ua as s,Bu as t,we as u,$u as v};
//# sourceMappingURL=web3-vendor-D-smDdvq.js.map
