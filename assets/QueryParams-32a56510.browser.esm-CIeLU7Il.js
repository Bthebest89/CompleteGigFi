const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BdgVNXf3.js","assets/web3-vendor-D-smDdvq.js","assets/react-vendor-oRnAdrvc.js","assets/ui-vendor-DvZrbspg.js","assets/index-afkGx5Ck.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./web3-vendor-D-smDdvq.js";import{C as a,a as e}from"./setErc20Allowance-7f76f677.browser.esm-DUVYy-Mo.js";import{b8 as r,B as n,aL as o,_ as s}from"./index-BdgVNXf3.js";const i=(()=>r("0x80ac58cd"))(),f=(()=>r("0xd9b67a26"))(),c={name:"Failed to load NFT metadata"};async function u(t,a,r){if(a.startsWith("data:application/json;base64")&&"undefined"!=typeof Buffer){const r=a.split(",")[1],o=JSON.parse(Buffer.from(r,"base64").toString("utf-8"));return e.parse({...o,id:n.from(t).toString(),uri:a})}const s=a.replace("{id}",o(n.from(t).toHexString(),32).slice(2));let i;try{i=await r.downloadJSON(s)}catch(f){const e=a.replace("{id}",n.from(t).toString());try{i=await r.downloadJSON(e)}catch(u){i=c}}return e.parse({...i,id:n.from(t).toString(),uri:a})}async function d(a,r,o,d){let l;const p=(await t((async()=>{const{default:t}=await import("./IERC165-ODxXmlQV.js");return{default:t}}),[])).default,m=new s(a,p,r),[w,y]=await Promise.all([m.supportsInterface(i),m.supportsInterface(f)]);if(w){const e=(await t((async()=>{const{default:t}=await import("./index-BdgVNXf3.js").then((t=>t.dX));return{default:t}}),__vite__mapDeps([0,1,2,3,4]))).default,n=new s(a,e,r);l=await n.tokenURI(o)}else{if(!y)throw Error("Contract must implement ERC 1155 or ERC 721.");{const e=(await t((async()=>{const{default:t}=await import("./index-BdgVNXf3.js").then((t=>t.dZ));return{default:t}}),__vite__mapDeps([0,1,2,3,4]))).default,n=new s(a,e,r);l=await n.uri(o)}}return l?u(o,l,d):e.parse({...c,id:n.from(o).toString(),uri:""})}async function l(t,e){return"string"==typeof t?t:await e.upload(a.parse(t))}async function p(t,e,r,n){if(function(t){return void 0===t.find((t=>"string"!=typeof t))}(t))return t;if(function(t){return void 0===t.find((t=>"object"!=typeof t))}(t)){return await e.uploadBatch(t.map((t=>a.parse(t))),{rewriteFileNames:{fileStartNumber:r||0},onProgress:n?.onProgress})}throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function m(t){const a=t[0].substring(0,t[0].lastIndexOf("/"));for(let e=0;e<t.length;e++){const r=t[e].substring(0,t[e].lastIndexOf("/"));if(a!==r)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${a}' but got '${r}'`)}return a.replace(/\/$/,"")+"/"}const w=100;export{w as D,c as F,i as I,f as a,u as b,p as c,d as f,m as g,l as u};
//# sourceMappingURL=QueryParams-32a56510.browser.esm-CIeLU7Il.js.map
