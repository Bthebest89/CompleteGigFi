const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BdgVNXf3.js","assets/web3-vendor-D-smDdvq.js","assets/react-vendor-oRnAdrvc.js","assets/ui-vendor-DvZrbspg.js","assets/index-afkGx5Ck.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./web3-vendor-D-smDdvq.js";import{_ as e,ad as r,H as a,i as n,B as o,aM as s}from"./index-BdgVNXf3.js";import{I as i,a as u,D as d}from"./QueryParams-32a56510.browser.esm-CIeLU7Il.js";async function c(r,a,n,o,s){try{const c=(await t((async()=>{const{default:t}=await import("./IERC165-ODxXmlQV.js");return{default:t}}),[])).default,l=new e(n,c,r),[f,p]=await Promise.all([l.supportsInterface(i),l.supportsInterface(u)]);if(f){const i=(await t((async()=>{const{default:t}=await import("./index-BdgVNXf3.js").then((t=>t.dW));return{default:t}}),__vite__mapDeps([0,1,2,3,4]))).default,u=new e(n,i,r);if(await u.isApprovedForAll(s,a))return!0;let c;try{c=await u.getApproved(o)}catch(d){}return c?.toLowerCase()===a.toLowerCase()}if(p){const o=(await t((async()=>{const{default:t}=await import("./index-BdgVNXf3.js").then((t=>t.dY));return{default:t}}),__vite__mapDeps([0,1,2,3,4]))).default,i=new e(n,o,r);return await i.isApprovedForAll(s,a)}return!1}catch(c){return!1}}async function l(e,r,n,o,s){const d=(await t((async()=>{const{default:t}=await import("./IERC165-ODxXmlQV.js");return{default:t}}),[])).default,c=new a(e.getSignerOrProvider(),n,d,e.options,e.storage),[l,f]=await Promise.all([c.read("supportsInterface",[i]),c.read("supportsInterface",[u])]);if(l){const i=(await t((async()=>{const{default:t}=await import("./index-BdgVNXf3.js").then((t=>t.dW));return{default:t}}),__vite__mapDeps([0,1,2,3,4]))).default,u=new a(e.getSignerOrProvider(),n,i,e.options,e.storage);if(!(await u.read("isApprovedForAll",[s,r]))){(await u.read("getApproved",[o])).toLowerCase()===r.toLowerCase()||await u.sendTransaction("setApprovalForAll",[r,!0])}}else{if(!f)throw Error("Contract must implement ERC 1155 or ERC 721.");{const o=(await t((async()=>{const{default:t}=await import("./index-BdgVNXf3.js").then((t=>t.dY));return{default:t}}),__vite__mapDeps([0,1,2,3,4]))).default,i=new a(e.getSignerOrProvider(),n,o,e.options,e.storage);await i.read("isApprovedForAll",[s,r])||await i.sendTransaction("setApprovalForAll",[r,!0])}}}function f(t){if(n(void 0!==t.assetContractAddress&&null!==t.assetContractAddress),n(void 0!==t.buyoutPricePerToken&&null!==t.buyoutPricePerToken),n(void 0!==t.listingDurationInSeconds&&null!==t.listingDurationInSeconds),n(void 0!==t.startTimestamp&&null!==t.startTimestamp),n(void 0!==t.tokenId&&null!==t.tokenId),n(void 0!==t.quantity&&null!==t.quantity),"NewAuctionListing"===t.type)n(void 0!==t.reservePricePerToken&&null!==t.reservePricePerToken)}async function p(t,e,a){return{quantity:a.quantityDesired,pricePerToken:a.pricePerToken,currencyContractAddress:a.currency,buyerAddress:a.offeror,quantityDesired:a.quantityWanted,currencyValue:await r(t,a.currency,a.quantityWanted.mul(a.pricePerToken)),listingId:e}}function w(t,e,r){if(r=o.from(r),t=o.from(t),e=o.from(e),t.eq(o.from(0)))return!1;return e.sub(t).mul(s).div(t).gte(r)}async function _(t,e,r){const a=[];for(;e-t>d;)a.push(r(t,t+d-1)),t+=d;return a.push(r(t,e-1)),await Promise.all(a)}export{w as a,_ as g,l as h,c as i,p as m,f as v};
//# sourceMappingURL=marketplace-e3129e2f.browser.esm-B9VhitKm.js.map
